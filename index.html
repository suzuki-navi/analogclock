<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>情報量の多いアナログ時計</title>
<meta name="viewport" content="width=1000" >
</head>
<body>
<div id="clockwrapper">
  <div id="clock"></div>
</div>
<style>
  body {
    margin: 0;
  }
  #clockwrapper {
    padding-top: 16px;
    padding-bottom: 16px;
    overflow: hidden;
  }
  #clock {
    margin: 0 auto;
  }
  #dummy {
    background-color: #e36516;
  }
</style>
<script>
const initializeClock = (() => {

const tokyoLng = 139.7;
// この時計は北緯35.7度で、夏時間のない UTC+9 を採用している地域を前提としている

const layerInitializers = [];
const layerNames = [];
const diskGenerators = [];

////////////////////////////////////////////////////////////////////////////////////////////////////
// HTML要素生成
////////////////////////////////////////////////////////////////////////////////////////////////////

const shadowColor = "#999999";
const shadowColor2 = "#99999980";
const boxShadow = "1px 1px 4px " + shadowColor;
const shadowFilter = "drop-shadow(2px 2px 8px #99999980)";

function createSVGElement(parentElement, tagName, elementInitializer = null) {
  const element = document.createElementNS("http://www.w3.org/2000/svg", tagName);
  parentElement.insertAdjacentElement("beforeend", element);
  if (elementInitializer) {
    elementInitializer(element);
  }
  return element;
}

function createHTMLElement(parentElement, tagName, elementInitializer = null) {
  const element = document.createElement(tagName);
  parentElement.insertAdjacentElement("beforeend", element);
  if (elementInitializer) {
    elementInitializer(element);
  }
  return element;
}

function createClockElement(parentElement, {layerName, top, height, left, width, rotation = null, classNames = []}, elementInitializer = null) {
  return createHTMLElement(parentElement, "div", element => {
    let classNames2 = "";
    if (layerName != null) {
      classNames2 = layerName + "-layer layer";
    }
    for (const cls of classNames) {
      classNames2 = classNames2 + " " + cls;
    }
    element.className = classNames2;

    element.style.position = "absolute";
    element.style.boxSizing = "border-box";

    element.style.top = top;
    element.style.height = height;
    element.style.left = left;
    element.style.width = width;

    if (rotation != undefined) {
      element.dataset.rotation = rotation;
    }

    if (elementInitializer) {
      elementInitializer(element);
    }
  });
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 円盤HTML要素生成
////////////////////////////////////////////////////////////////////////////////////////////////////

function createDiskElement(parentElement, {layerName, size, shadow = false, glass = false, rotation = null, classNames = [], pieSize = 360}, clipper = null, elementInitializer = null) {

  let top, left, height, width;
  let top2, left2;
  if (size <= 0) {
    size = -size;
    top = size + "px";
    top2 = (size+1) + "px";
    left = size + "px";
    left2 = (size+1) + "px";
    height = "calc(100% - 2 * " + size + "px)";
    width = "calc(100% - 2 * " + size + "px)";
  } else {
    top = "calc(50% - " + size + "px)";
    top2 = "calc(50% - " + size + "px + 1px)";
    left = "calc(50% - " + size + "px)";
    left2 = "calc(50% - " + size + "px + 1px)";
    height = "calc(2 * " + size + "px)";
    width = "calc(2 * " + size + "px)";
  }
  function setPie(element) {
    if (pieSize <= 45) {
      const p = 50 + Math.tan(pieSize * Math.PI / 180) * 50;
      element.style.clipPath = "polygon(50% 0%, " + p + "% 0%, 50% 50%)";
    } else if (pieSize <= 135) {
      const p = 50 + Math.tan((pieSize - 90) * Math.PI / 180) * 50;
      element.style.clipPath = "polygon(50% 0%, 100% 0%, 100% " + p + "%, 50% 50%)";
    } else if (pieSize < 225) {
      const p = 50 - Math.tan((pieSize - 180) * Math.PI / 180) * 50;
      element.style.clipPath = "polygon(50% 0%, 100% 0%, 100% 100%, " + p + "% 100%, 50% 50%)";
    } else if (pieSize <= 315) {
      const p = 50 - Math.tan((pieSize - 270) * Math.PI / 180) * 50;
      element.style.clipPath = "polygon(50% 0%, 100% 0%, 100% 100%, 0% 100%, 0% " + p + "%, 50% 50%)";
    } else if (pieSize < 360) {
      const p = 50 - Math.tan((360 - pieSize) * Math.PI / 180) * 50;
      element.style.clipPath = "polygon(50% 0%, 100% 0%, 100% 100%, 0% 100%, 0% 0%, " + p + "% 0%, 50% 50%)";
    }
  }
  const shadowElement = createClockElement(parentElement, {
    layerName,
    top,
    height,
    left,
    width,
    rotation,
    classNames: [...classNames, "rotation"],
  }, element => {
    element.style.borderRadius = "50%";
    if (shadow) {
      //element.style.background = shadowColor;
      element.style.filter = shadowFilter;
    }
  });
  const bodyElement = createClockElement(shadowElement, {
    layerName,
    top: "0",
    height: "100%",
    left: "0",
    width: "100%",
    classNames,
  }, element => {
    element.style.borderRadius = "50%";
  });
  let glassElement = null;
  if (glass) {
    glassElement = createClockElement(parentElement, {
      layerName,
      top,
      height,
      left,
      width,
      rotation,
      classNames: [...classNames, "rotation", "glass"],
    }, element => {
      element.style.display = "none";
      element.style.borderRadius = "50%";
    });
  }

  const rect = bodyElement.getBoundingClientRect();
  const size2 = rect.right - rect.left;
  setPie(shadowElement);
  setPie(bodyElement);
  if (glass) {
    setPie(glassElement);
  }
  clipElement(shadowElement, size2, shadow, clipper);
  clipElement(bodyElement, size2, false, clipper);
  if (glass) {
    clipElement(glassElement, size2, false, clipper);
  }

  if (elementInitializer) {
    elementInitializer(shadowElement, bodyElement, glassElement);
  }
  return bodyElement;
}

let svgId = 0;

////////////////////////////////////////
// 円盤のクリッピング
////////////////////////////////////////

function clipElement(element, size, isShadow, clipper) {
  if (!clipper) return;

  const shadowWidth = 16;

  const size2 = size / 2;
  let pathStr = "";
  let cx = 0;
  let cy = 0;
  const clip = {
    begin(x, y, rx, ry) {
      if (isShadow) {
        pathStr += " M " + ((x+rx*shadowWidth)/size) + "," + ((y+ry*shadowWidth)/size);
      } else {
        pathStr += " M " + (x/size) + "," + (y/size);
      }
    },
    lineTo(x, y, rx, ry) {
      if (isShadow) {
        pathStr += " L " + ((x+rx*shadowWidth)/size) + "," + ((y+ry*shadowWidth)/size);
      } else {
        pathStr += " L " + (x/size) + "," + (y/size);
      }
    },
    end() {
      finishSvg();
    },
    circleBegin(x, y, rx, ry) {
      if (x < 0) {
        x += 360;
      }
      cx = x;
      cy = y;
      const xy = convertCircle({x, y, rx, ry});
      this.begin(xy.x, xy.y, xy.rx, xy.ry);
    },
    circleLineTo(x, y, rx, ry) {
      if (x < 0) {
        x += 360;
      }
      if (y == cy) {
        const xy = convertCircle({x, y, rx, ry});
        let x2, y2, r2;
        if (isShadow) {
          x2 = (xy.x + xy.rx * shadowWidth) / size;
          y2 = (xy.y + xy.ry * shadowWidth) / size;
          r2 = (xy.r + xy.rr * shadowWidth) / size;
        } else {
          x2 = xy.x / size;
          y2 = xy.y / size;
          r2 = xy.r / size;
        }
        let dx = x - cx;
        if (dx <= -180) {
          dx += 360;
        } else if (dx > 180) {
          dx -= 360;
        }
        let direction;
        if (dx < 0) {
          direction = 0;
        } else {
          direction = 1;
        }
        pathStr += " A " + r2 + "," + r2 + ",0,0," + direction + "," + x2 + "," + y2;
      } else {
        const xy = convertCircle({x, y, rx, ry});
        this.lineTo(xy.x, xy.y, xy.rx, xy.ry);
      }
      cx = x;
      cy = y;
    },
  }
  function convertCircle({x, y, rx, ry}) {
    const th = x * Math.PI / 180;
    let r;
    if (y == -1) {
      r = 0;
    } else if (y < 0) {
      r = -y;
    } else {
      r = size2 - y;
    }
    const x2 = size2 + r * Math.sin(th);
    const y2 = size2 - r * Math.cos(th);
    const rr = ry;
    const rth = rx / (r + rr);
    const x3 = size2 + (r + rr) * Math.sin(th + rth);
    const y3 = size2 - (r + rr) * Math.cos(th + rth);
    return {
      x: x2,
      y: y2,
      rx: x3 - x2,
      ry: y3 - y2,
      r: r,
      rr: rr,
    };
  }
  function finishSvg() {
    svgId++;
    const id = "clipPath" + svgId;
    createSVGElement(element, "svg", element => {
      createSVGElement(element, "clipPath", element => {
        element.setAttribute("id", id);
        element.setAttribute("clipPathUnits", "objectBoundingBox");
        createSVGElement(element, "path", element => {
          element.setAttribute("d", pathStr);
        });
      });
    });
    element.style.clipPath = "url(#" + id + ")";
    pathStr = "";
  }
  clipper(clip);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 目盛りHTML要素生成
////////////////////////////////////////////////////////////////////////////////////////////////////

function createScaleElement(parentElement, {
  layerName,
  top,
  height,
  halfWidth,
  rotation = 0,
}, elementInitializer = null) {
  const element1 = createClockElement(parentElement, {
    layerName,
    top: top + "px",
    height: "calc(50% - " + top + "px)",
    left: "calc(50% - " + halfWidth + "px)",
    width: "calc(2 * " + halfWidth + "px)",
    rotation,
    classNames: ["rotation-fixed"],
  }, element => {
    element.style.transformOrigin = "50% 100%";
  });
  const element2 = createClockElement(element1, {
    layerName,
    top: "0",
    height: height + "px",
    left: "0",
    width: "calc(2 * " + halfWidth + "px)",
  }, element => {
    element.style.backgroundColor = "#aaaaaa";
  });
  if (elementInitializer) {
    elementInitializer(element1, element2);
  }
  return element1;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// テキスト要素生成
////////////////////////////////////////////////////////////////////////////////////////////////////

function createTextElement(parentElement, {
  layerName,
  top,
  halfWidth,
  text,
  rotation = 0,
  angle = 0,
}, elementInitializer = null) {
  const element1 = createClockElement(parentElement, {
    layerName,
    top: top + "px",
    height: "calc(50% - " + top + "px)",
    left: "calc(50% - " + halfWidth + "px)",
    width: "calc(2 * " + halfWidth + "px)",
    rotation,
    classNames: ["rotation-fixed"],
  }, element => {
    element.style.transformOrigin = "50% 100%";
  });
  const element2 = createClockElement(element1, {
    layerName,
    top: "0",
    left: "0",
    width: "100%",
    rotation: angle,
    classNames: ["rotation-fixed"],
  }, element => {
    element.style.textAlign = "center";
    element.innerText = text;
  });
  if (elementInitializer) {
    elementInitializer(element1, element2);
  }
  return element1;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 秒針HTML要素生成
////////////////////////////////////////////////////////////////////////////////////////////////////

function createSecondHandElement(parentElement, {
  layerName,
  top,
  top2,
  shadow = true,
  glass = true,
  rotation = 0,
}, elementInitializer = null) {
  const halfWidth = 1;
  const halfWidth2 = 12;
  const element1 = createClockElement(parentElement, {
    layerName,
    top: top + "px",
    height: "calc(50% - " + top + "px + " + halfWidth + "px)",
    left: "calc(50% - " + halfWidth2 + "px)",
    width: "calc(2 * " + halfWidth2 + "px)",
    rotation,
    classNames: ["scrollable", "rotation"],
  }, element => {
    element.style.transformOrigin = "50% calc(100% - " + halfWidth + "px)";
  });
  const element3s = createClockElement(element1, {
    layerName,
    top: "0",
    height: "100%",
    left: "calc(50% - " + halfWidth + "px)",
    width: "calc(2 * " + halfWidth + "px)",
  }, element => {
    element.style.backgroundColor = shadowColor;
    element.style.boxShadow = boxShadow;
  });
  const element3 = createClockElement(element1, {
    layerName,
    top: "0",
    height: "100%",
    left: "calc(50% - " + halfWidth + "px)",
    width: "calc(2 * " + halfWidth + "px)",
  }, element => {
    element.style.backgroundColor = "#ed8d8d";
  });
  const glassElement = createClockElement(parentElement, {
    layerName,
    top: top + "px",
    height: "calc(50% - " + top + "px)",
    left: "calc(50% - " + halfWidth2 + "px)",
    width: "calc(2 * " + halfWidth2 + "px)",
    rotation,
    classNames: ["glass", "rotation"],
  }, element => {
    element.style.transformOrigin = "50% 100%";
    element.style.display = "none";
  });
  if (elementInitializer) {
    elementInitializer(element1, element3s, element3, glassElement);
  }
  return element1;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 分針・時針HTML要素生成
////////////////////////////////////////////////////////////////////////////////////////////////////

function createFirstHandElement(parentElement, {
  layerName,
  top,
  halfWidth,
  shadow = true,
  glass = true,
  rotation = 0,
}, elementInitializer = null) {
  const element1 = createClockElement(parentElement, {
    layerName,
    top: top + "px",
    height: "calc(50% - " + top + "px + " + halfWidth + "px)",
    left: "calc(50% - " + halfWidth + "px)",
    width: "calc(2 * " + halfWidth + "px)",
    rotation,
    classNames: ["scrollable", "rotation"],
  }, element => {
    element.style.transformOrigin = "50% calc(100% - " + halfWidth + "px)";
  });
  /*
  const element3s = createClockElement(element1, {
    layerName,
    top: "0",
    height: "100%",
    left: "0",
    width: "100%",
  }, element => {
    element.style.backgroundColor = shadowColor2;
    element.style.boxShadow = boxShadow;
  });
  */
  const element3 = createClockElement(element1, {
    layerName,
    top: "0",
    height: "100%",
    left: "0",
    width: "100%",
  }, element => {
    element.style.backgroundColor = "#999999d0";
    element.style.borderRadius = halfWidth + "px";
  });
  let halfWidth2 = halfWidth;
  if (halfWidth2 < 12) {
    halfWidth2 = 12;
  }
  const glassElement = createClockElement(parentElement, {
    layerName,
    top: top + "px",
    height: "calc(50% - " + top + "px)",
    left: "calc(50% - " + halfWidth2 + "px)",
    width: "calc(2 * " + halfWidth2 + "px)",
    rotation,
    classNames: ["glass", "rotation"],
  }, element => {
    element.style.transformOrigin = "50% 100%";
    element.style.display = "none";
  });
  if (elementInitializer) {
    elementInitializer(element1, element3s, element3, glassElement);
  }
  return element1;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 丸い針HTML要素生成
////////////////////////////////////////////////////////////////////////////////////////////////////

function createCircleHandElement(parentElement, {
  layerName,
  top,
  halfWidth,
  shadow = true,
  glass = true,
  rotation = 0,
}, elementInitializer = null) {
  const element1 = createClockElement(parentElement, {
    layerName,
    top: top + "px",
    height: "calc(50% - " + top + "px + 1px)",
    left: "calc(50% - " + halfWidth + "px)",
    width: "calc(2 * " + halfWidth + "px)",
    rotation,
    classNames: ["scrollable", "rotation"],
  }, element => {
    element.style.transformOrigin = "50% calc(100% - 1px)";
  });
  const element2s = createClockElement(element1, {
    layerName,
    top: "0",
    height: "calc(2 * " + halfWidth + "px)",
    left: "0",
    width: "calc(2 * " + halfWidth + "px)",
  }, element => {
    element.style.borderRadius = "50%";
    element.style.border = shadowColor;
    element.style.boxShadow = boxShadow;
    //element.style.filter = shadowFilter;
  });
  const element2 = createClockElement(element1, {
    layerName,
    top: "0",
    height: "calc(2 * " + halfWidth + "px)",
    left: "0",
    width: "calc(2 * " + halfWidth + "px)",
  }, element => {
    element.style.borderRadius = "50%";
    element.style.border = "2px solid #ed8d8d";
  });
  const element3s = createClockElement(element1, {
    layerName,
    top: "calc(2 * " + halfWidth + "px)",
    height: "calc(100% - 2 * " + halfWidth + "px + 1px)",
    left: "calc(50% - 1px)",
    width: "2px",
  }, element => {
    element.style.backgroundColor = shadowColor;
    element.style.boxShadow = boxShadow;
    //element.style.filter = shadowFilter;
  });
  const element3 = createClockElement(element1, {
    layerName,
    top: "calc(2 * " + halfWidth + "px)",
    height: "calc(100% - 2 * " + halfWidth + "px + 1px)",
    left: "calc(50% - 1px)",
    width: "2px",
  }, element => {
    element.style.backgroundColor = "#ed8d8d";
  });
  const glassElement = createClockElement(parentElement, {
    layerName,
    top: top + "px",
    height: "calc(50% - " + top + "px + 1px)",
    left: "calc(50% - " + halfWidth + "px)",
    width: "calc(2 * " + halfWidth + "px)",
    rotation,
    classNames: ["glass", "rotation"],
  }, element => {
    element.style.transformOrigin = "50% 100%";
    element.style.display = "none";
  });
  if (elementInitializer) {
    elementInitializer(element1, element2s, element2, element3s, element3, glassElement);
  }
  return element1;
}

function createMdayHandElement(parentElement, {
  layerName,
  top,
  top2,
  halfWidth,
  shadow = true,
  glass = true,
  rotation = 0,
}) {
  let setAngle;
  createCircleHandElement(parentElement, {
    layerName,
    top: top2,
    halfWidth,
    shadow,
    glass,
    rotation,
  }, (_element1, _element2s, _element2, _element3s, _element3, _glassElement) => {
    const element1 = createClockElement(_element1, {
      layerName,
      top: (-(top2 - top)) + "px",
      height: (top2 - top + halfWidth) + "px",
      left: "calc(50% - " + halfWidth + "px)",
      width: "calc(2 * " + halfWidth + "px)",
      classNames: ["scrollable", "rotation-fixed"],
    }, element => {
      element.style.transformOrigin = "50% 100%";
    });
    const element2s = createClockElement(element1, {
      layerName,
      top: "0",
      height: "calc(2 * " + halfWidth + "px)",
      left: "0",
      width: "calc(2 * " + halfWidth + "px)",
    }, element => {
      element.style.borderRadius = "50%";
      element.style.border = shadowColor;
      element.style.boxShadow = boxShadow;
    });
    const element2 = createClockElement(element1, {
      layerName,
      top: "0",
      height: "calc(2 * " + halfWidth + "px)",
      left: "0",
      width: "calc(2 * " + halfWidth + "px)",
    }, element => {
      element.style.borderRadius = "50%";
      element.style.border = "2px solid #ed8d8d";
    });
    const element3s = createClockElement(element1, {
      layerName,
      top: "calc(2 * " + halfWidth + "px)",
      height: "calc(100% - 4 * " + halfWidth + "px)",
      left: "calc(50% - 1px)",
      width: "2px",
    }, element => {
      element.style.backgroundColor = shadowColor;
      element.style.boxShadow = boxShadow;
    });
    const element3 = createClockElement(element1, {
      layerName,
      top: "calc(2 * " + halfWidth + "px)",
      height: "calc(100% - 3 * " + halfWidth + "px)",
      left: "calc(50% - 1px)",
      width: "2px",
    }, element => {
      element.style.backgroundColor = "#ed8d8d";
    });
    setAngle = function(angle) {
      element1.style.transform = "rotateZ(" + (angle) + "deg)";
    }
  });
  return setAngle;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 太陽の反対側の針の要素
////////////////////////////////////////////////////////////////////////////////////////////////////

function createOppositionHandElement(parentElement, {
  layerName,
}) {
  const element1 = createClockElement(parentElement, {
    layerName,
    top: "calc(100% - 1px)",
    height: "calc(2 * 1px)",
    left: "calc(50% - 1px)",
    width: "calc(2 * 1px)",
  }, element => {
    createDiskElement(element, {
      layerName,
      size: 396,
      shadow: true,
      glass: true,
    }, clip => {
      clip.circleBegin (180,   0,  0, +1);
      clip.circleLineTo(180,   0, +1, +1);
      clip.circleLineTo(181,  56, +1, +1);
      clip.circleLineTo(240,  56, +1, +1);
      clip.circleLineTo(270,  -8, +1, +1);
      clip.circleLineTo(  0,  -8,  0, +1);
      clip.circleLineTo( 90,  -8, -1, +1);
      clip.circleLineTo(120,  66, -1, +1);
      clip.circleLineTo(123,  66, +1, +1);
      clip.circleLineTo(170, -20, +1, +1);
      clip.circleLineTo(190, -20, -1, +1);
      clip.circleLineTo(237,  66, -1, -1);
      clip.circleLineTo(181,  66, +1, -1);
      clip.circleLineTo(180,  84, +1, -1);
      clip.circleLineTo(180,  84,  0, -1);
      clip.circleLineTo(180,  84, -1, -1);
      clip.circleLineTo(179,  66, -1, -1);
      clip.circleLineTo(120,  66, -1, -1);
      clip.circleLineTo(120,  56, -1, +1);
      clip.circleLineTo(179,  56, -1, +1);
      clip.circleLineTo(180,   0, -1, +1);
      clip.end();
    }, (shadowElement, bodyElement, glassElement) => {
      shadowElement.classList.remove("rotation");
      bodyElement.style.backgroundColor = "#f3ec64";
    });
  });
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 月の満ち欠けを再現する要素
////////////////////////////////////////////////////////////////////////////////////////////////////

function addMoonPhaseFeature(element0, {
  layerName,
  halfWidth,
  color1,
  color2,
}) {
  element0.style.border = "0";
  const element1 = createClockElement(element0, {
    layerName,
    top: "0",
    height: "100%",
    left: "0",
    width: "100%",
  }, element => {
    element.style.borderRadius = "50%";
    element.style.backgroundColor = color2;
  });
  const element2 = createClockElement(element0, {
    layerName,
    top: "0",
    height: "100%",
    left: "0",
    width: "100%",
  }, element => {
    element.style.display = "none";
    element.style.borderRadius = "50%";
    element.style.clipPath = "polygon(0% 0%, 50% 0%, 50% 100%, 0% 100%)";
    element.style.backgroundColor = color2;
  });
  const element3 = createClockElement(element0, {
    layerName,
    top: "0",
    height: "100%",
    left: "0",
    width: "100%",
  }, element => {
    element.style.display = "none";
    element.style.borderRadius = "50%";
    element.style.clipPath = "polygon(100% 0%, 50% 0%, 50% 100%, 100% 100%)";
    element.style.backgroundColor = color2;
  });
  function setPhase(phase) {
    if (phase < 0) {
      phase += 360;
    } else if (phase >= 360) {
      phase -= 360;
    }
    if (phase <= 90) {
      element0.style.backgroundColor = color1;
      element1.style.display = "";
      element1.style.backgroundColor = color2;
      element1.style.transform = "rotateY(" + phase + "deg)";
      element2.style.display = "none";
      element3.style.display = "";
      element3.style.backgroundColor = color2;
    } else if (phase <= 180) {
      element0.style.backgroundColor = color2;
      element1.style.display = "";
      element1.style.backgroundColor = color1;
      element1.style.transform = "rotateY(" + (180-phase) + "deg)";
      element2.style.display = "";
      element2.style.backgroundColor = color1;
      element3.style.display = "none";
    } else if (phase <= 270) {
      element0.style.backgroundColor = color2;
      element1.style.display = "";
      element1.style.backgroundColor = color1;
      element1.style.transform = "rotateY(" + (phase-180) + "deg)";
      element2.style.display = "none";
      element3.style.display = "";
      element3.style.backgroundColor = color1;
    } else {
      element0.style.backgroundColor = color1;
      element1.style.display = "";
      element1.style.backgroundColor = color2;
      element1.style.transform = "rotateY(" + (360-phase) + "deg)";
      element2.style.display = "";
      element2.style.backgroundColor = color2;
      element3.style.display = "none";
    }
  }
  return setPhase;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 矢印の針
////////////////////////////////////////////////////////////////////////////////////////////////////

function createArrowHandElement(parentElement, {
  layerName,
  top,
}) {
  createCircleHandElement(parentElement, {
    layerName,
    top,
    halfWidth: 12,
  }, (element1, element2s, element2, element3s, element3, glassElement) => {
    element2s.style.borderRadius = null;
    element2s.style.top = "24px";
    element2s.style.height = "0";
    element2s.style.left = "12px";
    element2s.style.width = "0";
    element2.style.borderRadius = null;
    element2.style.top = "16px";
    element2.style.height = "16px";
    element2.style.left = "6px";
    element2.style.width = "12px";
    element2.style.borderTop = "4px solid transparent";
    element2.style.borderLeft = "6px solid transparent";
    element2.style.borderRight = "6px solid transparent";
    element2.style.borderBottom = "12px solid #ed8d8d";
    element3s.style.top = "32px";
    element3s.style.height = "calc(100% - 32px)";
    element3s.style.left = "calc(50% - 2px)";
    element3s.style.width = "4px";
    element3.style.top = "32px";
    element3.style.height = "calc(100% - 32px)";
    element3.style.left = "calc(50% - 2px)";
    element3.style.width = "4px";
  });
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 外周の24時間の目盛り
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "day-scale";
  const help = [
    "0から23までの数字が記載された固定された円盤です。すぐ内側の円盤にある世界各都市の現在時刻を示します。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createDiskElement(clockElement, {
      layerName,
      size: -0,
      shadow: true,
      glass: true,
    }, null, (shadowElement, bodyElement, glassElement) => {
      bodyElement.style.background = "white";

      for (let i = 0; i < 24; i++) {
        createTextElement(bodyElement, {
          layerName,
          top: 2,
          halfWidth: 40,
          text: i,
          rotation: 180 + 15 * i,
        }, (element1, element2) => {
          element2.style.fontSize = "12px";
        });
      }
    });
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 世界の都市
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "world-cities";
  const help = [
    "24時間で1回転する円盤です。都市名の記載は、すぐ外側の円盤の数字を指し、各都市の現在時刻を示します。カッコ内の数字は世界協定時からの時間差を示します。*印は夏時間のある都市で、夏に1時間進みます。夏時間の時期は都市によって異なり、特に南半球での夏時間は北半球では冬であることに注意してください。",
    "すぐ内側の円盤は空を表し、都市名の記載方向が南になります。この時計は東京が基準ですので、東京のところに南の記載があります。",
    "マウスでスクロールして時間調整できます。",
    "時計中央の北の地平線を示すパーツと同期して回転します。",
  ]
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createDiskElement(clockElement, {
      layerName,
      size: -16,
      shadow: true,
      glass: true,
      classNames: ["scrollable"],
    }, null, (shadowElement, bodyElement, glassElement) => {
      bodyElement.style.background = "#ffffff";

      function addCity(html, offset, line) {
        createTextElement(bodyElement, {
          layerName,
          top: 4 + (line-1) * 12,
          halfWidth: 80,
          text: "",
          rotation: (offset - 9 + 12) * 15,
        }, (element1, element2) => {
          element2.style.fontSize = "12px";
          element2.innerHTML = html;

          if (line == 1) {
            createHTMLElement(element1, "div", element => {
              element.style.position = "absolute";
              element.style.top = "-6px";
              element.style.height = "3px";
              element.style.left = "calc(50% - 3px)";
              element.style.width = "calc(2 * 3px)";
              element.style.boxSizing = "border-box";
              element.style.borderTop = "0";
              element.style.borderBottom = "3px solid #333333";
              element.style.borderLeft = "3px solid transparent";
              element.style.borderRight = "3px solid transparent";
            });
          }
        });
      }
      addCity("Honolulu (-10)", -10, 1);
      addCity("Los Angeles (-8*)", -8, 1);
      addCity("Houston (-6*)", -6, 1);
      addCity("New York (-5*)", -5, 1);
      addCity("São Paulo (-3)", -3, 1);
      addCity("London (0*)", 0, 1);
      addCity("Lisboa (0*)", 0, 2);
      addCity("Berlin (+1*)", +1, 1);
      addCity("Madrid (+1*)", +1, 2);
      addCity("Київ (+2*)", +2, 1);
      addCity("القاهرة (+2)", +2, 2);
      addCity("Москва (+3)", +3, 1);
      addCity("İstanbul (+3)", +3, 2);
      addCity("Delhi (+5.5)", +5.5, 1);
      addCity("บางกอก (+7)", +7, 1);
      addCity("北京・台北 (+8)", +8, 1);
      addCity("Singapore (+8)", +8, 2);
      addCity("<span style=\"font-weight:bold;\">東京</span>・서울 (+9)", +9, 1, true);
      addCity("Sydney (+10*)", +10, 1);
      addCity("Auckland (+12*)", +12, 1);

      // 南の地平線
      createTextElement(bodyElement, {
        layerName,
        top: 16,
        halfWidth: 80,
        text: "E← Southern Sky →W",
        rotation: 180,
        angle: 180,
      }, (element1, element2) => {
        element2.style.background = "#5e3030";
        element2.style.color = "#ffffff";
        element2.style.fontSize = "12px";
        element2.style.paddingTop = "12px";
        element2.style.paddingBottom = "2px";
      });
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("minute-hand", this);
        addDiskScrollListener(this, 15);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        return Math.floor(((time + 9 * 3600) % (24 * 3600)) / 240);
      }
      valueToAngle(value) {
        return value;
      }
      setTime(time) {
        diskSetTimeCommon(moveDisk, this, time);
      }
      diskScrolled(count) {
        changeIndicatingTime(3600 * count, true);
        setPulseMode({isPulseActive: false, isNow: false});
      }
      diskScrolling(angle) {
        diskScrollingCommon(moveDisk, this, angle);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 南の空の薄明背景
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "southern-sky";
  const help = [
    "南の空の背景を示した固定の円盤です。上半分が昼、下半分が夜を表します。白抜き文字で星座が書かれた透明の円盤が上から重ねられています。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createDiskElement(clockElement, {
      layerName,
      size: -48,
      shadow: true,
      glass: true,
    }, null, (shadowElement, bodyElement, glassElement) => {
      bodyElement.style.background = "conic-gradient(#ffffff, #ffffff 15%, #c1724a 30%, #121b4a 35%, #121b4a 65%, #c1724a 70%, #ffffff 85%, #ffffff)";
    });
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 南の空の星座
////////////////////////////////////////////////////////////////////////////////////////////////////

const eclipticTop = 48 + southernLatToY(0);

(() => {
  const layerName = "southern-stars";
  const help = [
    "白抜き文字で星座が書かれた透明の回転する円盤です。地球の公転に合わせて1年で1回転します。下半分にある星座がその季節に夜間見えやすい星座です。外側の円盤の東京あるいはSouthern Skyと書かれた方向の星座がその時間帯に南の空に見える星座です。",
    "黄色の点線は太陽の通り道である黄道、赤色の点線は天の赤道を表します。通常の星座早見盤と異なり、黄道が同心円で描かれ、赤道が歪んでいます。",
    "灰色の点線は赤緯45度を表します。赤緯45度線は時計の中央にある北天の星座表示にもあります。",
    "太陽黄経、二十四節気、流星群の文字盤も書かれています。この円盤は赤経を基準に回転するため、太陽黄経の目盛りは等間隔からわずかにずれています。流星群は極大の時期を示しています。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createDiskElement(clockElement, {
      layerName,
      size: -48,
      shadow: true,
      glass: true,
      classNames: ["scrollable"],
    }, clip => {
      for (let i = 0; i <= 360; i += 5) {
        const [lng, lat] = equatorialLngLatToXY(i, -36);
        let top = southernLatToY(lat);
        if (top < 0) {
          top = 0;
        }
        if (i == 0) {
          clip.circleBegin (lng, top, 0, +1);
        } else {
          clip.circleLineTo(lng, top, 0, +1);
        }
      }
      clip.end();
    }, (shadowElement, bodyElement, glassElement) => {
      //bodyElement.style.backgroundColor = "red";
      drawNightSky(layerName, bodyElement, null);

      // 太陽黄経
      for (let i = 0; i < 360; i += 5) {
        const lng = i;
        const lng2 = eclipticLngToEquatorial(lng) + 180;
        createScaleElement(bodyElement, {
          layerName,
          top: 136,
          height: 5,
          halfWidth: 1,
          rotation: lng2,
        }, (element1, element2) => {
          element2.style.backgroundColor = "#d7d163";
        });
        let text;
        if (i % 15 == 0) {
          text = [
            "春分", "清明", "穀雨", "立夏", "小満", "芒種",
            "夏至", "小暑", "大暑", "立秋", "処暑", "白露",
            "秋分", "寒露", "霜降", "立冬", "小雪", "大雪",
            "冬至", "小寒", "大寒", "立春", "雨水", "啓蟄",
          ][i / 15];
        } else {
          text = i;
        }
        createTextElement(bodyElement, {
          layerName,
          top: 128,
          halfWidth: 10,
          text,
          rotation: lng2,
          angle: 180,
        }, (element1, element2) => {
          element2.style.color = "#ffffff";
          element2.style.fontSize = "10px";
        });
      }
      for (const [lng, text] of meteorShowerData) {
        const lng2 = eclipticLngToEquatorial(lng) + 180;
        createScaleElement(bodyElement, {
          layerName,
          top: 142,
          height: 5,
          halfWidth: 1,
          rotation: lng2,
        }, (element1, element2) => {
          element2.style.backgroundColor = "#d7d163";
        });
        createTextElement(bodyElement, {
          layerName,
          top: 146,
          halfWidth: 50,
          text,
          rotation: lng2,
          angle: 180,
        }, (element1, element2) => {
          element2.style.color = "#ffffff";
          element2.style.fontSize = "10px";
        });
      }
      for (const [lng, text] of [
        [178, "土星環消失"],
        [358, "土星環消失"],
        [336, "火星近日点"],
      ]) {
        const lng2 = eclipticLngToEquatorial(lng);
        createTextElement(bodyElement, {
          layerName,
          top: 98,
          halfWidth: 50,
          text,
          rotation: lng2,
          angle: 180,
        }, (element1, element2) => {
          element2.style.color = "#ffffff";
          element2.style.fontSize = "7px";
        });
      }

      return;
      createDiskElement(bodyElement, {
        layerName,
        size: 0,
        shadow: false,
        glass: false,
      }, clip => {
        for (let i = 0; i <= 360; i += 5) {
          const [lng, lat] = equatorialLngLatToXY(i, +45);
          const top = southernLatToY(lat);
          if (i == 0) {
            clip.circleBegin (lng, top, 0, +1);
          } else {
            clip.circleLineTo(lng, top, 0, +1);
          }
        }
        for (let i = 360; i >= 0; i -= 5) {
          const lng = i;
          const top = 90;
          clip.circleLineTo(lng, top, 0, -1);
        }
        clip.end();
      }, (shadowElement, bodyElement, glassElement) => {
        shadowElement.classList.remove("rotation");
        bodyElement.style.backgroundColor = "#cccccc";
      });
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("hour-hand", this);
        addDiskScrollListener(this, 1);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        const time1 = Math.floor(time / 3600) * 3600 + 1800;
        return midnightTimeToSiderial(time1);
      }
      valueToAngle(value) {
        return -value - tokyoLng + 180;
      }
      setTime(time) {
        diskSetTimeCommon(moveDisk, this, time, 200);
      }
      diskScrolled(count) {
        changeIndicatingTime(-86400 * count, true);
        setPulseMode({isPulseActive: false, isNow: false});
      }
      diskScrolling(angle) {
        //diskScrollingCommon(moveDisk, this, angle);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 太陽・月・惑星
////////////////////////////////////////////////////////////////////////////////////////////////////

for (const [planetLayerName, calcPlanet, calcPhase, planetSize, planetColor, planetHelp] of [
  ["saturn", calcSaturnLng, null, 6, "#98d98e", [
    "土星の位置を示す針です。",
    "下にある黄色の針の位置に来るときが衝です。",
    "しし座とペガスス座付近に土星環消失の表記があります。土星がこの付近に来ると環が消失する現象が発生します。前後1年ぐらいの期間に複数回発生します。"
  ]],
  ["jupiter", calcJupiterLng, null, starSize(-2), "#ffde85", [
    "木星の位置を示す針です。木星は全天で太陽、月、金星に次ぐ明るい星です。",
    "下にある黄色の針の位置に来るときが衝です。",
  ]],
  ["mars", calcMarsLng, null, starSize(1), "#e36516", [
    "火星の位置を示す針です。",
    "下にある黄色の針の位置に来るときが衝です。",
    "みずがめ座付近に火星近日点の表記があります。この近日点付近で衝になるときに大接近となります。"
  ]],
  ["sun", calcSunLng, null, starSize(-27), "#f3ec64", [
    "太陽の位置を示す針です。最外周の数字の12より左にあることが多いのですが、東京では12時より少し前に太陽が真南に来ることを示しています。東西の地平線と重なる時間が日の出・日没の時間です。",
    "太陽、月、惑星を示す針は、他のパーツと同様に同心円で回転します。太陽、月、惑星は黄道に沿って移動するため、南の空の星空も黄道を同心円として描かれています。",
    "太陽と反対方向にも黄色の針が伸びています。反対方向に月があると満月、惑星があると衝を示します。",
    "反対方向の内側に向いた小さな針は、太陽黄経、二十四節気、流星群を示します。",
  ]],
  ["mercury", calcMercuryLng, calcMercuryPhase, starSize(1), "#acbee8", [
    "水星の位置を示す針です。太陽の右にある時期は夕方西の空に見え、太陽の左にある時期は明け方東の空に見えます。",
  ]],
  ["venus", calcVenusLng, calcVenusPhase, starSize(-4), "#e9e030", [
    "金星の位置を示す針です。太陽の右にある時期は夕方西の空に見え、宵の明星と呼ばれます。太陽の左にある時期は明け方東の空に見え、明けの明星と呼ばれます。全天で太陽、月に次ぐ明るい星です。",
  ]],
  ["moon", calcMoonLng, calcMoonPhase, starSize(-13), "#f3ec64", [
    "月の位置を示す針です。月の満ち欠けも表現していますが、簡易的に太陽と月の赤経の差から満ち欠けを表示しています。",
    "太陽と同じ位置に来ると新月を意味します。太陽と反対側の黄色の針の位置に来ると満月を意味します。",
  ]],
]) {
  (() => {
    const layerName = planetLayerName
    const help = planetHelp;
    layerNames.push({name:layerName, help});

    let setPhase;

    layerInitializers.push(clockElement => {
      createCircleHandElement(clockElement, {
        layerName,
        top: eclipticTop - planetSize,
        halfWidth: planetSize,
      }, (element1, element2s, element2, element3s, element3, glassElement) => {
        element1.classList.remove("scrollable");
        if (layerName == "mars") {
          element2.style.border = "0";
          element2.style.backgroundImage = "url(data:image/png;base64," + mars_png_base64 + ")";
          element2.style.backgroundPosition = "center";
          element2.style.backgroundRepeat = "no-repeat";
          element2.style.transform = "rotateZ(180deg)";
        } else if (layerName == "jupiter") {
          element2.style.left = "-1px";
          element2.style.width = "26px";
          element2.style.border = "0";
          element2.style.backgroundImage = "url(data:image/png;base64," + jupiter_png_base64 + ")";
          element2.style.backgroundPosition = "center";
          element2.style.backgroundRepeat = "no-repeat";
          element2.style.transform = "rotateZ(180deg)";
        } else if (layerName == "saturn") {
          element2.style.left = "-10px";
          element2.style.width = "32px";
          element2.style.border = "0";
          element2.style.backgroundImage = "url(data:image/png;base64," + saturn_png_base64 + ")";
          element2.style.backgroundPosition = "center";
          element2.style.backgroundRepeat = "no-repeat";
          element2.style.transform = "rotateZ(180deg)";
        } else {
          element2.style.backgroundColor = planetColor;
          element2.style.border = "2px solid " + planetColor;
        }
        element3.style.backgroundColor = "#999999";

        if (calcPhase) {
          setPhase = addMoonPhaseFeature(element2, {
            layerName,
            halfWidth: planetSize,
            color1: planetColor,
            color2: "#999999",
          });
        }

        if (layerName == "sun") {
          createOppositionHandElement(element1, {
            layerName,
          });
        }
      });
    });

    diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
      new class {
        constructor() {
          this.value = null;
          this.angle = 0;
          addTimeResetEventListener(this);
          addMoveEventListener("hour-hand", this);
        }
        name() {
          return layerName;
        }
        timeToValue(time) {
          const time1 = Math.floor(time / 3600) * 3600 + 1800;
          const day1 = (time1 + 9 * 3600) / 86400.0;
          const day2 = day1 - Math.floor(day1);
          const sid = timeToSidereal(time1) - day2 * 360;
          return calcPlanet(time) - sid;
        }
        valueToAngle(value) {
          return value - tokyoLng + 180;
        }
        setTime(time) {
          diskSetTimeCommon(moveDisk, this, time);
          if (calcPhase) {
            setPhase(calcPhase(time));
          }
        }
      }();
    });
  })();
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 東西の地平線
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "eastwest-horizon";
  const help = [
    "東西の地平線を表す回転するパーツです。東西の地平線に一致するように移動します。地平線の形が恒星時によって異なるため、東西から離れた南東・南西や北東・北西では、誤差が大きくなります。地平線は東京基準です。",
  ];
  layerNames.push({name:layerName, help});

  for (const sign of [-1, +1]) {
    const text = ["East Sky →S", "S← West Sky"][(sign + 1) / 2];

    layerInitializers.push(clockElement => {
      createDiskElement(clockElement, {
        layerName,
        size: -48,
        shadow: true,
        glass: true,
        rotation: 180 - 90 * sign,
        classNames: ["scrollable"],
      }, clip => {
        const start = -40;
        const end = +76;
        const lineWidth = 4;
        const lineHalfLength = 10;
        for (let i = start; i <= end; i += 2) {
          const lng = -i * sign;
          const lat = i;
          let top = southernLatToY(lat);
          if (top < 0) {
            top = 0;
          }
          if (i == start) {
            clip.circleBegin (lng, top, 0, -1);
          } else if (i == end) {
            clip.circleLineTo(lng, top, 0, -1);
            clip.circleLineTo(lng + 60 * sign, -5, 0, +1);
            clip.circleLineTo(lng + 180 * sign, -5, 0, +1);
            clip.circleLineTo(lng - 60 * sign, -5, 0, +1);
            clip.circleLineTo(lng - 1 * sign, top - lineWidth, 0, +1);
          } else {
            clip.circleLineTo(lng, top, 0, -1);
          }
        }
        for (let i = end; i >= lineHalfLength; i -= 2) {
          const lng = -i * sign;
          const lat = i;
          let top = southernLatToY(lat) - lineWidth;
          if (top < 0) {
            top = 0;
          }
          if (i == end) {
            clip.circleLineTo(lng, top     , 0, +1);
          } else if (i == lineHalfLength) {
            clip.circleLineTo(lng, top     , 0, +1);
            clip.circleLineTo(lng, top - 20, 0, +1);
          } else {
            clip.circleLineTo(lng, top     , 0, +1);
          }
        }
        for (let i = -lineHalfLength; i >= start; i -= 2) {
          const lng = -i * sign;
          const lat = i;
          let top = southernLatToY(lat) - lineWidth;
          if (top < 0) {
            top = 0;
          }
          if (i == start) {
            clip.circleLineTo(lng, top     , 0, +1);
          } else if (i == -lineHalfLength) {
            clip.circleLineTo(lng - 0.6 * sign, top - 20, 0, +1);
            clip.circleLineTo(lng, top     , 0, +1);
          } else {
            clip.circleLineTo(lng, top     , 0, +1);
          }
        }
        clip.end();
      }, (shadowElement, bodyElement, glassElement) => {
        bodyElement.style.background = "#5e3030";
        bodyElement.style.color = "#ffffff";
        createTextElement(bodyElement, {
            layerName,
            top: 31,
            halfWidth: 80,
            text: text,
            rotation: 0,
            angle: 180 - 7 * sign,
          }, (element1, element2) => {
            element2.style.fontSize = "12px";
          });
      });
    });
  }

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("minute-hand", this);
        addDiskScrollListener(this, 15);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        const timeInDay = Math.floor(((time + 9 * 3600) % (24 * 3600)) / 240);
        const time1 = Math.floor(time / 3600) * 3600 + 1800;
        const midsid = midnightTimeToSiderial(time1);
        const d = equatorialLngToEclipticY(timeInDay + midsid + tokyoLng - 90);
        return timeInDay - d;
      }
      valueToAngle(value) {
        return value;
      }
      setTime(time) {
        diskSetTimeCommon(moveDisk, this, time);
      }
      diskScrolled(count) {
        changeIndicatingTime(3600 * count, true);
        setPulseMode({isPulseActive: false, isNow: false});
      }
      diskScrolling(angle) {
        diskScrollingCommon(moveDisk, this, angle);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 12時間の目盛り
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "halfday-scale";
  const help = [
    "時計の目盛りが書かれた固定の文字盤です。カレンダーの曜日表記もこの文字盤です。下は切り抜かれている箇所があり、太陽黄経や流星群の書かれた裏側の円盤が見えています。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createDiskElement(clockElement, {
      layerName,
      size: -156,
      shadow: true,
      glass: true,
      rotation: 0,
    }, clip => {
      clip.circleBegin (180,  0,  0, +1);
      clip.circleLineTo(330,  0,  0, +1);
      clip.circleLineTo( 30,  0,  0, +1);
      clip.circleLineTo(180,  0,  0, +1);
      clip.circleLineTo(180, 20,  0, -1);
      clip.circleLineTo(150, 20, +1, -1);
      clip.circleLineTo(150, 48, +1, +1);
      clip.circleLineTo(210, 48, -1, +1);
      clip.circleLineTo(210, 20, -1, -1);
      clip.circleLineTo(180, 20,  0, -1);
      clip.end();
    }, (shadowElement, bodyElement, glassElement) => {
      bodyElement.style.background = "white";

      for (let i = 0; i < 60; i++) {
        if (i % 5 == 0) {
          createScaleElement(bodyElement, {
            layerName,
            top: 0,
            height: 20,
            halfWidth: 2,
            rotation: i * 6,
          });
        } else {
          createScaleElement(bodyElement, {
            layerName,
            top: 5,
            height: 10,
            halfWidth: 1,
            rotation: i * 6,
          });
        }
      }
      for (let i = 0; i < 7; i++) {
        const t = ["月", "火", "水", "木", "金", "土", "日"][i];
        createTextElement(bodyElement, {
          layerName,
          top: 30,
          halfWidth: 16,
          text: t,
          rotation: (i - 3) * 360 / 42,
        }, (element1, element2) => {
          element2.style.fontSize = "16px";
        });
      }
    });
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// カレンダー
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "calendar";
  const help = [
    "カレンダーです。毎月の曜日配置に応じて回転します。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createDiskElement(clockElement, {
      layerName,
      size: -206,
      shadow: true,
      glass: true,
      rotation: 0,
    }, null, (shadowElement, bodyElement, glassElement) => {
      bodyElement.style.background = "white";

      for (let i = 0; i < 6; i++) {
        let je = 13;
        if (i == 0) je = 42;
        for (let j = 0; j < je; j++) {
          const t = i * 7 + j - 5;
          if (t <= 0 || t > 31) continue;
          createTextElement(bodyElement, {
            layerName,
            top: i * 28 + 10,
            halfWidth: 16,
            text: t,
            rotation: (j - 9) * 360 / 42,
          }, (element1, element2) => {
            element2.style.fontSize = "16px";
          });
        }
      }
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("hour-hand", this);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        let [year, yday]  = timeToYear(time);
        let [month, mday, daysOfMonth] = ydayToMonth(yday);
        let monthWday = timeToWday(time - (mday - 1) * 86400);
        if (monthWday == 0) {
          monthWday = 7;
        }
        return monthWday;
      }
      valueToAngle(value) {
        return (value - 1) * 360 / 42;
      }
      setTime(time) {
        diskSetTimeCommon(moveDisk, this, time);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// カレンダーの針
////////////////////////////////////////////////////////////////////////////////////////////////////

let setCalendarHandRotation = null;

(() => {
  const layerName = "mday-hand";
  const help = [
    "日付と曜日を示す針です。マウスで動かすことができます。",
    "太陽黄経や流星群の表示されているエリアを隠さないように、針が途中で折れ曲がるようになっています。",
  ];
  layerNames.push({name:layerName, help});

  const setAngle = [];

  layerInitializers.push(clockElement => {
    for (let i = 0; i < 6; i++) {
      setAngle.push(createMdayHandElement(clockElement, {
        layerName,
        top: 178,
        top2: 208 + 28 * i,
        halfWidth: 12,
        rotation: -3 * 360 / 42 - 60 * i,
      }));
    }
  });

  setCalendarHandRotation = function(rotation) {
    for (let i = 0; i < 6; i++) {
      let rot = rotation - i * 60;
      if (rot < 0) {
        rot += 360;
      }
      const maxRotation = 150 - i * 12;
      if (rot < 101) {
        setAngle[i](0);
      } else if (rot < 116) {
        setAngle[i](360 - (rot - 101) * (maxRotation / 15));
      } else if (rot <= 330) {
        setAngle[i](360 - maxRotation);
      } else if (rot <= 345) {
        setAngle[i](360 - (345 - rot) * (maxRotation / 15));
      } else {
        setAngle[i](0);
      }
    }
  }

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("hour-hand", this);
        addDiskScrollListener(this, 360 / 42);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        let [year, yday]  = timeToYear(time);
        let [month, mday, daysOfMonth] = ydayToMonth(yday);
        let monthWday = timeToWday(time - (mday - 1) * 86400);
        if (monthWday == 0) {
          monthWday = 7;
        }
        return monthWday + mday - 1;
      }
      valueToAngle(value) {
        return (value - 1) * 360 / 42;
      }
      setTime(time) {
        diskSetTimeCommon(moveDisk, this, time);
      }
      diskScrolled(count) {
        changeIndicatingTime(86400 * count, true);
        setPulseMode({isPulseActive: false, isNow: false});
      }
      diskScrolling(angle) {
        diskScrollingCommon(moveDisk, this, angle);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// カレンダーの31日を隠すマスク
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "calendar-lower-mask";
  const help = [
    "1か月が30日以下の月で不要な31日の表記をカレンダーから隠すためのパーツです。2月はうるう年かどうかに応じて29日以降または30日以降を隠します。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createDiskElement(clockElement, {
      layerName,
      size: -316,
      shadow: true,
      glass: true,
      rotation: 6 * 360 / 42,
    }, clip => {
      clip.circleBegin (-30,  0, -1, +1);
      clip.circleLineTo( 30,  0, +1, +1);
      clip.circleLineTo( 30, 56, +1, +1);
      clip.circleLineTo(150, 56,  0, +1);
      clip.circleLineTo(-90, 56, -1, +1);
      clip.circleLineTo(-90, 28, -1, +1);
      clip.circleLineTo(-30, 28, -1, +1);
      clip.circleLineTo(-30,  0, -1, +1);
      clip.end();
    }, (shadowElement, bodyElement, glassElement) => {
      bodyElement.style.background = "white";
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("hour-hand", this);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        let [year, yday]  = timeToYear(time);
        let [month, mday, daysOfMonth] = ydayToMonth(yday);
        if (year % 4 != 0 && month == 2) daysOfMonth--;
        let monthWday = timeToWday(time - (mday - 1) * 86400);
        if (monthWday == 0) {
          monthWday = 7;
        }
        let value = monthWday + daysOfMonth - 31;
        return value;
      }
      valueToAngle(value) {
        return (value - 4) * 360 / 42;
      }
      setTime(time) {
        diskSetTimeCommon(moveDisk, this, time);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 12月の表記
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "calendar-december";
  const help = [
    "「12月」という表記だけの文字盤です。30日または31日が月曜または火曜のときは場所が重なるため隠れます。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createDiskElement(clockElement, {
      layerName,
      size: -316,
      shadow: true,
      glass: true,
      rotation: 6 * 360 / 42,
    }, clip => {
      clip.circleBegin (-30,  0, -1, +1);
      clip.circleLineTo( 30,  0, +1, +1);
      clip.circleLineTo( 30, 56, +1, +1);
      clip.circleLineTo(150, 56,  0, +1);
      clip.circleLineTo(-90, 56, -1, +1);
      clip.circleLineTo(-90, 28, -1, +1);
      clip.circleLineTo(-30, 28, -1, +1);
      clip.circleLineTo(-30,  0, -1, +1);
      clip.end();
    }, (shadowElement, bodyElement, glassElement) => {
      bodyElement.style.background = "white";
      const text = "12月";
      createTextElement(bodyElement, {
        layerName,
        top: 38,
        halfWidth: 40,
        text: text,
        rotation: -79,
        angle: 2,
      }, (element1, element2) => {
        element2.style.fontSize = "14px";
      });
      createScaleElement(bodyElement, {
        layerName,
        top: 48,
        height: 6,
        halfWidth: 1,
        rotation: -60 + 343 * 360 / 365,
      });
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("hour-hand", this);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        let [year, yday]  = timeToYear(time);
        let [month, mday, daysOfMonth] = ydayToMonth(yday);
        if (year % 4 != 0 && month == 2) daysOfMonth--;
        let monthWday = timeToWday(time - (mday - 1) * 86400);
        if (monthWday == 0) {
          monthWday = 7;
        }
        let value = monthWday + daysOfMonth - 31;
        if (value < 5) {
          value = 5;
        } else if (value == 6) {
          value = 7;
        }
        return value;
      }
      valueToAngle(value) {
        return (value - 4) * 360 / 42;
      }
      setTime(time) {
        diskSetTimeCommon(moveDisk, this, time);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// カレンダーの左右を隠すマスク
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "month-scale";
  const help = [
    "時計のメインの文字盤となる固定の円盤です。年、月、時の数字が書かれています。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    const element = createDiskElement(clockElement, {
      layerName,
      size: -232,
      shadow: true,
      glass: true,
      rotation: 0,
    }, clip => {
      clip.circleBegin (330,                140, +1, +1);
      clip.circleLineTo(330 + 2 * 360 / 42, 140, -1, +1);
      clip.circleLineTo(330 + 2 * 360 / 42, 112, -1, +1);
      clip.circleLineTo( 30,                112, -1, +1);
      clip.circleLineTo( 30,                  0, -1, +1);
      clip.circleLineTo(180,                  0,  0, +1);
      clip.circleLineTo(330,                  0, +1, +1);
      clip.circleLineTo(330,                140, +1, +1);
      clip.end();
    }, (shadowElement, bodyElement, glassElement) => {
      bodyElement.style.background = "white";
    });

    // 時針の数字
    for (i = 1; i <= 11; i++) {
      let rot = i * 30;
      if (i == 1) {
        rot += 4;
      } else if (i == 11) {
        rot -= 4;
      }
      const text = i;
      createTextElement(element, {
        layerName,
        top: 10,
        halfWidth: 16,
        text,
        rotation: rot,
        angle: -rot,
      }, (element1, element2) => {
        element2.style.fontSize = "24px";
        element2.style.fontStyle = "italic";
      });
    }

    // 西暦年
    printYear2000Disk(element, {
      layerName,
      top: year2000HandTop - 228,
    });

    // 1月～12月
    printMonthsDisk(element, {
      layerName,
      top: monthHandTop - 238,
    })
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 西暦年の印字
////////////////////////////////////////////////////////////////////////////////////////////////////

function printYear2000Disk(element, {
  layerName,
  top,
}) {
  for (let year = 1970; year <= 2070; year++) {
    if (year % 10 == 0 && year < 2070) {
      const text = year;
      createTextElement(element, {
        layerName,
        top: top - 8,
        halfWidth: 40,
        text,
        rotation: (year - 1970) * 3 + 30,
      }, (element1, element2) => {
        element2.style.fontSize = "14px";
      });
    }
    let scaleHeight1 = 2;
    if (year % 10 == 0) {
      scaleHeight1 = 16;
    } else if (year % 10 == 5) {
      scaleHeight1 = 8;
    }

    const warekiData = [
      ["S", 1925],
      ["H", 1988],
      ["R", 2018],
    ];
    let warekiCh;
    let warekiBaseYear;
    for (const [ch, baseYear] of warekiData) {
      if (baseYear >= year) {
        break;
      }
      warekiCh = ch;
      warekiBaseYear = baseYear;
    }

    let scaleHeight2 = 2;
    if ((year - warekiBaseYear) % 10 == 0 || (year - warekiBaseYear) == 1) {
      scaleHeight2 = 16;
    } else if ((year - warekiBaseYear) % 10 == 5) {
      scaleHeight2 = 8;
    } else {
      scaleHeight2 = 2;
    }

    createScaleElement(element, {
      layerName,
      top: top + 12 - scaleHeight1,
      height: scaleHeight1 + scaleHeight2,
      halfWidth: 1,
      rotation: (year - 1970) * 3  + 30,
    });
    if ((year - warekiBaseYear) == 1 || (year - warekiBaseYear) % 10 == 0 && year != 2018) {
      const text = warekiCh + (year - warekiBaseYear);
      let rot2 = 3.8;
      if ((year - warekiBaseYear) == 1) {
        rot2 = 3.0;
      }
      if (warekiCh == "H") {
        rot2 += 0.5;
      } else if (warekiCh == "R") {
        rot2 += 0.5;
      }
      createTextElement(element, {
        layerName,
        top: top + 20,
        halfWidth: 40,
        text,
        rotation: (year - 1970) * 3 + 30 + rot2,
      }, (element1, element2) => {
        element2.style.fontSize = "10px";
      });
    }
  }
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 1月～12月の印字
////////////////////////////////////////////////////////////////////////////////////////////////////

function printMonthsDisk(element, {
  layerName,
  top,
}) {
  const days = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
  let dayCount = 0;
  for (let i = 1; i <= 12; i++) {
    const text1 = ["Jan.", "Feb.", "Mar.", "Apr.", "May", "Jun.", "Jul.", "Aug.", "Sep.", "Oct.", "Nov.", "Dec."][i-1];
    const text2 = i + "月";
    let angleDelta2 = 0;
    if (i == 12) {
      angleDelta2 = 2.5;
    }

    createScaleElement(element, {
      layerName,
      top: top + 6,
      height: 24,
      halfWidth: 1,
      rotation: dayCount * 360 / 365,
    });
    for (let j = 10; j <= 20; j+=10) {
      createScaleElement(element, {
        layerName,
        top: top + 24,
        height: 6,
        halfWidth: 1,
        rotation: (dayCount + j - 1) * 360 / 365,
      });
    }

    createTextElement(element, {
      layerName,
      top: top + 12,
      halfWidth: 40,
      text: text2,
      rotation: (dayCount + 14) * 360 / 365 + angleDelta2,
    }, (element1, element2) => {
      element2.style.fontSize = "14px";
      createHTMLElement(element2, "span", element => {
        element.style.fontSize = "10px";
        element.innerText = text1;
      });
    });

    dayCount += days[i - 1];
  }
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 西暦年の針
////////////////////////////////////////////////////////////////////////////////////////////////////

const year2000HandTop = 300;

(() => {
  const layerName = "year2000-hand";
  const help = [
    "西暦年と和暦を示す針です。マウスで動かすことができます。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createArrowHandElement(clockElement, {
      layerName,
      top: year2000HandTop,
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.time = 0;
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("year10-hand", this);
        addDiskScrollListener(this, 360 / 120);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        let [year, yday]  = timeToYear(time);
        return year;
      }
      valueToAngle(value) {
        return (value - 1970) * 3 + 30;
      }
      setTime(time) {
        this.time = time;
        diskSetTimeCommon(moveDisk, this, time);
      }
      diskScrolled(count) {
        let delta = calcSecondsPerYear(this.time, count);
        changeIndicatingTime(delta, true);
        setPulseMode({isPulseActive: false, isNow: false});
      }
      diskScrolling(angle) {
        //diskScrollingCommon(moveDisk, this, angle);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 北の空の薄明背景
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "northern-sky";
  const help = [
    "北の空の背景を示した固定の円盤です。白抜き文字で星座が書かれた透明の円盤が上から重ねられています。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    const handleHeight = 20;
    const element = createDiskElement(clockElement, {
      layerName,
      size: northernSkyElementSize + handleHeight,
      shadow: true,
      glass: true,
      rotation: 0,
    }, clip => {
      clip.circleBegin (0, handleHeight, 0, +1);
      clip.circleLineTo(90, handleHeight, 0, +1);
      clip.circleLineTo(172, handleHeight, -1, +1);
      clip.circleLineTo(172, 0, -1, +1);
      clip.circleLineTo(177, 0, +1, +1);
      clip.circleLineTo(177, handleHeight, +1, +1);
      clip.circleLineTo(270, handleHeight, 0, +1);
      clip.circleLineTo(0, handleHeight, 0, +1);
      clip.end();
    }, (shadowElement, bodyElement, glassElement) => {
      bodyElement.style.background = "linear-gradient(to bottom, #121b4a, #121b4a 40%, #c1724a 75%, #ffffff 95%, #ffffff)";
    });
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 北の空の星座
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "northern-stars";
  const help = [
    "北の空で見られる星座が白抜き文字で書かれた透明の回転する円盤です。地球の好天に合わせて1年で1回転します。",
    "灰色の点線は赤緯45度を表します。赤緯45度線は時計の外周にある星座表示にもありますので、赤緯45度付近は重複して表示されます。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createDiskElement(clockElement, {
      layerName,
      size: northernSkyElementSize,
      shadow: true,
      glass: true,
    }, clip => {
    }, (shadowElement, bodyElement, glassElement) => {
      //bodyElement.style.backgroundColor = "red";
      bodyElement.style.overflow = "hidden";
      drawNightSky(layerName, null, bodyElement);
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("hour-hand", this);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        const time1 = Math.floor(time / 3600) * 3600 + 1800;
        return midnightTimeToSiderial(time1);
      }
      valueToAngle(value) {
        return -value - tokyoLng + 180;
      }
      setTime(time) {
        diskSetTimeCommon(moveDisk, this, time);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 北の地平線
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "northern-horizon";
  const help = [
    "北の地平線を表す回転するパーツです。地平線は東京基準です。",
    "24時間で1回転し、外周の世界都市名の円盤と同期しています。",
  ];
  layerNames.push({name:layerName, help});

  const extWidth = 2;
  layerInitializers.push(clockElement => {
    createDiskElement(clockElement, {
      layerName,
      size: northernSkyElementSize + extWidth,
      shadow: true,
      glass: true,
    }, clip => {
      const start = 112;
      const end = 248;
      for (let i = start; i <= end; i += 2) {
        const lng = i;
        const lat = northernHorizontalLat(lng);
        let top = northernLatToY(lat) + extWidth;
        if (top < extWidth) {
          top = extWidth;
        }
        if (i == start) {
          clip.circleBegin (180, 0, 0, +1);
          clip.circleLineTo(lng, 0, -1, +1);
          clip.circleLineTo(lng, top, -1, -1);
        } else if (i == 178) {
          clip.circleLineTo(lng, top, -1, -1);
          clip.circleLineTo(120, -3, -1, +1);
          clip.circleLineTo(0, -3, 0, +1);
        } else if (i == 180) {
          // nothing
        } else if (i == 182) {
          clip.circleLineTo(240, -3, +1, +1);
          clip.circleLineTo(lng, top, +1, -1);
        } else if (i == end) {
          clip.circleLineTo(lng, top, +1, -1);
          clip.circleLineTo(lng, 0, +1, +1);
          clip.circleLineTo(180, 0, 0, +1);
        } else {
          clip.circleLineTo(lng, top, 0, -1);
        }
      }
      clip.end();
    }, (shadowElement, bodyElement, glassElement) => {
      bodyElement.style.background = "#5e3030";
      bodyElement.style.color = "#ffffff";

      const text = "W← Northern Sky →E";
      createTextElement(bodyElement, {
        layerName,
        top: 20,
        halfWidth: 80,
        text: text,
        rotation: 180,
        angle: 180,
      }, (element1, element2) => {
        element2.style.fontSize = "12px";
      });
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("minute-hand", this);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        return Math.floor(((time + 9 * 3600) % (24 * 3600)) / 240);
      }
      valueToAngle(value) {
        return value;
      }
      setTime(time) {
        diskSetTimeCommon(moveDisk, this, time);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 1月～12月の針
////////////////////////////////////////////////////////////////////////////////////////////////////

const monthHandTop = 346;

(() => {
  const layerName = "month-hand";
  const help = [
    "1年で1周する針です。マウスで動かすことができます。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createArrowHandElement(clockElement, {
      layerName,
      top: monthHandTop + 2,
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.time = 0;
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("mday-hand", this);
        addDiskScrollListener(this, 360 / 12);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        let [year, yday]  = timeToYear(time);
        if (year % 4 == 0) {
          return yday + 366;
        } else {
          return yday;
        }
      }
      valueToAngle(value) {
        let isLeap = false;
        if (value >= 366) {
          isLeap = true;
          value -= 366;
        }
        let [month, mday, daysOfMonth] = ydayToMonth(value);
        if (value >= 60) {
          value = value - 1;
        } else if (isLeap && value >= 31 && value < 60) {
          value = (value - 31) * 28 / 29 + 31;
        }
        return value * 360 / 365;
      }
      setTime(time) {
        this.time = time;
        diskSetTimeCommon(moveDisk, this, time);
      }
      diskScrolled(count) {
        let delta = calcSecondsPerMonth(this.time, count);
        changeIndicatingTime(delta, true);
        setPulseMode({isPulseActive: false, isNow: false});
      }
      diskScrolling(angle) {
        diskScrollingCommon(moveDisk, this, angle);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 時針
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "hour-hand";
  const help = [
    "時計の短針です。",
    "マウスでスクロールして時間調整できます。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    const element = createFirstHandElement(clockElement, {
      layerName,
      top: 276,
      halfWidth: 8,
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("minute-hand", this);
        addDiskScrollListener(this, 30);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        return Math.floor(((time + 9 * 3600) % (12 * 3600)) / 120);
      }
      valueToAngle(value) {
        return value;
      }
      setTime(time) {
        diskSetTimeCommon(moveDisk, this, time, 200);
      }
      diskScrolled(count) {
        changeIndicatingTime(3600 * count, true);
        setPulseMode({isPulseActive: false, isNow: false});
      }
      diskScrolling(angle) {
        diskScrollingCommon(moveDisk, this, angle);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 分針
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "minute-hand";
  const help = [
    "時計の長針です。",
    "マウスでスクロールして時間調整できます。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    const element = createFirstHandElement(clockElement, {
      layerName,
      top: 176,
      halfWidth: 4,
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = null;
        this.angle = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("second-hand", this);
        addDiskScrollListener(this, 6);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        return Math.floor((time % 3600) / 10);
      }
      valueToAngle(value) {
        return value;
      }
      setTime(time) {
        diskSetTimeCommon(moveDisk, this, time);
      }
      diskScrolled(count) {
        changeIndicatingTime(60 * count, true);
        setPulseMode({isPulseActive: false, isNow: false});
      }
      diskScrolling(angle) {
        //diskScrollingCommon(moveDisk, this, angle);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 秒針
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "second-hand";
  const help = [
    "秒針です。",
    "マウスでスクロールして時間調整できます。",
    "時計が止まっているときに秒針を時計回りに少し動かすと時計が動き出します。半周以上回転させると自動で現在時刻が設定されます。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    const element = createSecondHandElement(clockElement, {
      layerName,
      top: 158,
      top2: 200,
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = 0;
        addTimeResetEventListener(this);
        addPulseEventListener(this);
        addDiskScrollListener(this, 6);
      }
      name() {
        return layerName;
      }
      timeToValue(time) {
        return time % 60;
      }
      valueToAngle(value) {
        return value * 6;
      }
      setTime(time) {
        const newValue = this.timeToValue(time);
        if (this.value == newValue) {
          return;
        }
        if (newValue == this.value + 1 || newValue == this.value - 59) {
          moveDisk(this.name(), this.valueToAngle(this.value), this.valueToAngle(newValue), 240, true);
        } else {
          moveDisk(this.name(), this.valueToAngle(this.value), this.valueToAngle(newValue), 240, false);
        }
        this.value = newValue;
      }
      diskScrolled(count) {
        changeIndicatingTime(count, true);
        setPulseMode({isPulseActive: false, isNow: false});
      }
      diskScrolling(angle) {
        // nothing
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// テンプ
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  return;

  const layerName = "balance-wheel";
  const help = "";
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createDiskElement(clockElement, {
      layerName,
      size: -338,
      shadow: true,
      glass: true,
      rotation: 0,
    }, clip => {
      clip.circleBegin (180,  0,  0, +1);
      clip.circleLineTo(240,  0, +1, +1);
      clip.circleLineTo(240,  4, +1, -1);

      clip.circleLineTo(180.7,  4, +1, -1);
      clip.circleLineTo(210, -4, +1, +1);
      clip.circleLineTo(  0, -4,  0, +1);
      clip.circleLineTo(150, -4, -1, +1);
      clip.circleLineTo(179.3,  4, -1, -1);

      clip.circleLineTo(120,  4, -1, -1);
      clip.circleLineTo(120,  0, -1, +1);
      clip.circleLineTo(180,  0,  0, +1);
      clip.end();
    }, (shadowElement, bodyElement, glassElement) => {
      bodyElement.style.background = "#121b4a30";
    });
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// シャフト
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "shaft";
  const help = [
    "時計の軸です。",
    "この時計の回転するパーツはすべてこの軸を中心に回転しています。",
  ];
  layerNames.push({name:layerName, help});

  layerInitializers.push(clockElement => {
    createDiskElement(clockElement, {
      layerName,
      size: 12,
      shadow: true,
      glass: true,
      rotation: 0,
    }, null, (shadowElement, bodyElement, glassElement) => {
      bodyElement.style.background = "#d7d163";
    });
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// デジタル時計
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = "digital";
  const help = [
    "左下にあるここだけデジタル時計です。上から順に、日付、時刻、Unix Time、修正ユリウス日が表示されています。",
    "Unix Timeは1970年1月1日0時UTCからの秒数（うるう秒をカウントせず）です。",
    "修正ユリウス日は1858年11月17日0時UTCからの日数です。",
  ];
  layerNames.push({name:layerName, help});

  let digitalElement;

  layerInitializers.push(clockElement => {
    createClockElement(clockElement, {
      layerName,
      top: "918px",
      height: "80px",
      left: "0",
      width: "150px",
    }, element => {
      element.style.padding = "4px";
      element.style.fontSize = "16px";
      element.style.fontFamily = "dseg";
      element.style.lineHeight = "120%";
      element.style.textAlign = "right";
      element.style.border = "2px solid #000000";
      element.style.borderRadius = "4px";
      element.style.backgroundColor = "#fb7c00";
      const backgroundElement = createHTMLElement(element, "div", element => {
        element.style.position = "absolute";
        element.style.top = "0";
        element.style.left = "0";
        element.style.color = "#00000020";
        element.innerText = backgroundText;
      });
      digitalElement = createHTMLElement(element, "div", element => {
        element.style.position = "absolute";
        element.style.top = "0";
        element.style.left = "0";
      });
      digitalElement.addEventListener("click", event => {
        event.stopPropagation();
      });
    });
    createClockElement(clockElement, {
      layerName,
      top: "918px",
      height: "80px",
      left: "0",
      width: "150px",
      classNames: ["glass"],
    }, element => {
      element.style.display = "none";
      element.style.borderRadius = "4px";
    });
  });

  const backgroundText = "8888-88-88\n88:88:88\n8888888888\n88888.888888";

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = 0;
        addTimeResetEventListener(this);
        addPulseEventListener(this);
      }
      name() {
        return layerName;
      }
      setTime(time) {
        const [year, yday] = timeToYear(time);
        const [month, mday, daysOfMonth] = ydayToMonth(yday)
        const secondOfDay = (time + 9 * 3600) % 86400;
        const hour = Math.floor(secondOfDay / 3600);
        const minute = Math.floor((secondOfDay % 3600) / 60);
        const second = secondOfDay % 60;

        const text1 = year + "-" + ("00" + month).slice(-2) + "-" + ("00" + mday).slice(-2);
        const text2 = ("00" + hour).slice(-2) + ":" + ("00" + minute).slice(-2) + ":" + ("00" + second).slice(-2);
        const text3 = time;
        const mjd = timeToMjd(time);
        const mjd1 = Math.floor(mjd);
        const mjd2 = Math.floor((mjd - mjd1) * 1000000);
        const text4 = mjd1 + "." + ("000000" + mjd2).slice(-6);

        digitalElement.innerText = "" + text1 + "\n" + text2 + "\n" + text3 + "\n" + text4;
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 国立天文台へのリンク
////////////////////////////////////////////////////////////////////////////////////////////////////

(() => {
  const layerName = null; // "nao";
  const help = [];
  //layerNames.push({name:layerName, help});

  let linkElement;

  const linkHtml = "&#x1f52d;";

  layerInitializers.push(clockElement => {
    createClockElement(clockElement, {
      layerName,
      top: "980px",
      height: "",
      left: "160px",
      width: "",
    }, element => {
      element.style.fontSize = "20px";
      linkElement = createHTMLElement(element, "a", element => {
        element.style.textDecoration = "none";
        element.setAttribute("target", "_blank");
        element.innerHTML = linkHtml;
      });
    });
    createClockElement(clockElement, {
      layerName,
      top: "980px",
      height: "",
      left: "160px",
      width: "",
    }, element => {
      element.style.display = "none";
      element.style.fontSize = "20px";
      createHTMLElement(element, "span", element => {
        element.innerHTML = linkHtml;
      });
    });
  });

  diskGenerators.push((addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode) => {
    new class {
      constructor() {
        this.value = 0;
        addTimeResetEventListener(this);
        addMoveEventListener("month-hand", this);
      }
      name() {
        return layerName;
      }
      setTime(time) {
        const [year, yday] = timeToYear(time);
        const [month, mday, daysOfMonth] = ydayToMonth(yday)
        const url = "https://www.nao.ac.jp/astro/sky/" + year + "/" + ("00" + month).slice(-2) + ".html";
        linkElement.setAttribute("href", url);
      }
    }();
  });
})();

////////////////////////////////////////////////////////////////////////////////////////////////////
// 星空
////////////////////////////////////////////////////////////////////////////////////////////////////

function southernLatToY(lat) {
  // 縦幅108px
  const margin = 20;
  //const latY = 45 * (1.0 + lat / 45.0);
  if (lat < -45) {
    return -1;
  }
  //const data = [0, 10, 25, 45, 65, 82, 95, 105, 115, 125];
  const data = [0, 3, 18, 45, 72, 92, 110, 120, 125, 130];
  const x1 = (lat + 45) / 15;
  const x1i = Math.floor(x1);
  if (x1i >= data.length - 1) {
    return -1;
  }
  const x2 = x1 - x1i;
  const latY = (1 - x2) * data[x1i] + x2 * data[x1i + 1];
  if (latY > 108 + margin) {
    return -1;
  }
  return latY;
}

const northernSkyElementSize = 128;

function northernLatToY(lat) {
  // 半径92px
  const latY = northernSkyElementSize * (lat - 25.0) / 65.0;
  return latY;
}

function starSize(mag) {
  if (mag <= -26) {
    return 18;
  } else if (mag <= -12) {
    return 15;
  } else if (mag < 0.5) {
    return 12;
  } else if (mag < 1.5) {
    return 8;
  } else if (mag < 2.5) {
    return 4;
  } else if (mag < 3.5) {
    return 2;
  } else {
    return 1;
  }
}
function drawNightSky(layerName, southernSkyElement, northernSkyElement) {
  const southernSkyElementSize = (() => {
    if (southernSkyElement) {
      const southernSkyElementRect = southernSkyElement.getBoundingClientRect();
      return (southernSkyElementRect.right - southernSkyElementRect.left) / 2;
    } else {
      0;
    }
  })();

  function convertSouthernLngLat(lng, lat) {
    return equatorialLngLatToXY(lng, lat);
  }
  function convertNorthernLngLat(lng, lat) {
    return [lng, lat];
  }

  function addLine(startLng, startLat, endLng, endLat, isEc = false, elementInitializer) {
    if (startLng >= 360) {
      startLng -= 360;
    }
    if (endLng >= 360) {
      endLng -= 360;
    }
    function convertSouthernLngLat(lng, lat) {
      return equatorialLngLatToXY(lng, lat, isEc);
    }
    for (const [element, elementSize, convertLngLat, latToY, baseRotation] of [
      [southernSkyElement, southernSkyElementSize, convertSouthernLngLat, southernLatToY, 0],
      [northernSkyElement, northernSkyElementSize, convertNorthernLngLat, northernLatToY, 180],
    ]) {
      const [startLng2, startLat2] = convertLngLat(startLng + baseRotation, startLat);
      const [endLng2, endLat2] = convertLngLat(endLng + baseRotation, endLat);
      const startLatY2 = latToY(startLat2);
      const endLatY2 = latToY(endLat2);
      if (startLatY2 >= 0 && endLatY2 >= 0 && element) {
        const startX = (elementSize - startLatY2) * Math.sin(startLng2 * Math.PI / 180);
        const startY = (elementSize - startLatY2) * Math.cos(startLng2 * Math.PI / 180);
        const endX = (elementSize - endLatY2) * Math.sin(endLng2 * Math.PI / 180);
        const endY = (elementSize - endLatY2) * Math.cos(endLng2 * Math.PI / 180);
        const angle = Math.atan2(-(endX - startX), -(endY - startY)) * 180 / Math.PI;

        let classNames2 = "";
        if (layerName != null) {
          classNames2 = layerName + "-layer layer";
        }

        createHTMLElement(element, "div", element => {
          element.className = classNames2;
          element.style.position = "absolute";
          element.style.boxSizing = "border-box";
          element.style.top = (elementSize - startY) + "px";
          element.style.height = Math.sqrt((endX - startX) * (endX - startX) + (endY - startY) * (endY - startY)) + "px";
          element.style.left = (elementSize + startX - 0.5) + "px";
          element.style.width = "1px";
          element.style.transformOrigin = "50% 0%";
          element.style.transform = "rotateZ(" + angle + "deg)";
          element.style.backgroundColor = "#999999";

          if (elementInitializer) {
            elementInitializer(element);
          }
        });
      }
    }
  }
  function addText(lng, lat, text) {
    for (const [element, elementSize, convertLngLat, latToY, baseRotation, baseAngle] of [
      [southernSkyElement, southernSkyElementSize, convertSouthernLngLat, southernLatToY, 0, 180],
      [northernSkyElement, northernSkyElementSize, convertNorthernLngLat, northernLatToY, 180, 0],
    ]) {
      const [lng2, lat2] = convertLngLat(lng, lat);
      const top = latToY(lat2);
      if (top >= 0 && element) {
        createTextElement(element, {
          layerName,
          top: top - 4.8,
          halfWidth: 40,
          text: text,
          rotation: lng2 + baseRotation,
          angle: baseAngle,
        }, (element1, element2) => {
          element2.style.color = "#ffffff";
          element2.style.fontSize = "8px";
        });
      }
    }
  }
  function addStar(lng, lat, mag) {
    for (const [element, elementSize, convertLngLat, latToY, baseRotation, baseAngle] of [
      [southernSkyElement, southernSkyElementSize, convertSouthernLngLat, southernLatToY, 0, 180],
      [northernSkyElement, northernSkyElementSize, convertNorthernLngLat, northernLatToY, 180, 0],
    ]) {
      const [lng2, lat2] = convertLngLat(lng, lat);
      const top = latToY(lat2);
      if (top >= 0 && element) {
        const x = (elementSize - top) * Math.sin((lng2 + baseRotation) * Math.PI / 180);
        const y = (elementSize - top) * Math.cos((lng2 + baseRotation) * Math.PI / 180);
        const size = starSize(mag);
        createClockElement(element, {
          layerName,
          top: (elementSize - y - size / 2) + "px",
          height: size + "px",
          left: (elementSize + x - size / 2) + "px",
          width: size + "px",
          classNames: ["stars"],
        }, element => {
          element.style.borderRadius = "50%";
          element.style.backgroundColor = "#ffffff";
        });
      }
    }
  }
  for (const [lng, lat, mag] of starData) {
    addStar(lng, lat, mag);
  }

  for (let i = 0; i < 360; i += 5) {
    for (const j of [0]) {
      addLine(i + 1, j, i + 4, j, false, element => {
        element.style.backgroundColor = "#ed8d8d";
      });
    }
    for (const j of [+45]) {
      addLine(i + 1, j, i + 4, j, false, element => {
        element.style.backgroundColor = "#999999";
      });
    }
  }
  for (let i = 0; i < 360; i += 2) {
    addLine(i + 0.5, 0, i + 1.5, 0, true,  element => {
      element.style.backgroundColor = "#d7d163";
    });
  }
  for (let j = -35; j < 90; j += 5) {
    const len = 1.0 / Math.cos(j * Math.PI / 180);
    const len2 = len * 0.2;
    for (let rot = 0; rot < 360; rot += 90) {
      if (j % 15 == 0) {
        addLine(rot-len, j, rot+len, j, false, element => {
          element.style.backgroundColor = "#ed8d8d";
        });
      } else {
        addLine(rot-len2, j, rot+len2, j, false, element => {
          element.style.backgroundColor = "#ed8d8d";
        });
      }
    }
  }

  for (const [lng, lat, text] of constellationData) {
    addText( lng, lat, text);
  }
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 赤経・赤緯の計算ライブラリ
////////////////////////////////////////////////////////////////////////////////////////////////////

const equatorialLatToYData = [
  0.002, 0.720, 1.437, 2.159, 2.880, 3.605, 4.330, 5.063, 5.795, 6.535,
  7.278, 8.029, 8.787, 9.549, 10.322, 11.102, 11.889, 12.691, 13.500, 14.324,
  15.163, 16.013, 16.877, 17.759, 18.660, 19.576, 20.517, 21.476, 22.462, 23.472,
  24.512, 25.578, 26.680, 27.816, 28.991, 30.207, 31.470, 32.785, 34.155, 35.583,
  37.081, 38.655, 40.318, 42.072, 43.940, 45.936, 48.082, 50.407, 52.945, 55.754,
  58.911,
];
const equatorialLngToEclipticYData = [
  0.002, 0.309, 0.617, 0.932, 1.243, 1.555, 1.866, 2.173, 2.485, 2.792,
  3.100, 3.408, 3.712, 4.016, 4.319, 4.623, 4.924, 5.224, 5.521, 5.817,
  6.114, 6.407, 6.700, 6.989, 7.278, 7.564, 7.846, 8.128, 8.406, 8.685,
  8.959, 9.230, 9.501, 9.769, 10.032, 10.292, 10.549, 10.805, 11.058, 11.307,
  11.552, 11.794, 12.032, 12.266, 12.497, 12.724, 12.951, 13.171, 13.387, 13.599,
  13.808, 14.009, 14.211, 14.405, 14.599, 14.786, 14.969, 15.145, 15.320, 15.489,
  15.654, 15.811, 15.965, 16.115, 16.258, 16.397, 16.533, 16.661, 16.785, 16.906,
  17.020, 17.130, 17.232, 17.331, 17.426, 17.514, 17.595, 17.672, 17.741, 17.807,
  17.866, 17.921, 17.968, 18.012, 18.049, 18.082, 18.107, 18.122, 18.140, 18.148,
  18.151, 18.148,
];
const eclipticLngToEquatorialData = [
  0.000, 0.918, 1.836, 2.754, 3.672, 4.591, 5.510, 6.429, 7.350, 8.270,
  9.192, 10.115, 11.038, 11.963, 12.889, 13.816, 14.744, 15.673, 16.604, 17.537,
  18.471, 19.407, 20.345, 21.284, 22.225, 23.169, 24.114, 25.062, 26.011, 26.963,
  27.918, 28.874, 29.833, 30.795, 31.759, 32.726, 33.695, 34.667, 35.642, 36.619,
  37.599, 38.583, 39.569, 40.558, 41.549, 42.544, 43.542, 44.543, 45.547, 46.554,
  47.563, 48.576, 49.592, 50.611, 51.633, 52.658, 53.686, 54.717, 55.750, 56.787,
  57.826, 58.869, 59.914, 60.962, 62.012, 63.065, 64.121, 65.179, 66.239, 67.302,
  68.367, 69.435, 70.504, 71.576, 72.649, 73.724, 74.801, 75.880, 76.960, 78.041,
  79.124, 80.208, 81.294, 82.380, 83.467, 84.555, 85.643, 86.732, 87.821, 88.910,
  90.000, 91.090,
];

function interpolation(data, x) {
  if (x > data.length - 1) {
    throw "Error: " + x;
  }
  if (x < 0) {
    throw "Error: " + x;
  }
  const x1 = Math.floor(x);
  const x2 = x1 - x;
  return (1 - x2) * data[x1] + x2 * data[x1 + 1];
}

function equatorialLngToEclipticY(lng) {
  if (lng >= 360) {
    lng -= 360;
  } else if (lng < 0) {
    lng += 360;
  }
  function sub(x) {
    return interpolation(equatorialLngToEclipticYData, x);
  }
  if (lng < 90) {
    return sub(lng);
  } else if (lng < 180) {
    return sub(180 - lng);
  } else if (lng < 270) {
    return -sub(lng - 180);
  } else {
    return -sub(360 - lng);
  }
}

function equatorialLngLatToXY(lng, lat, isEc = false) {
  function equatorialLatToY(lat) {
    function sub(x) {
      if (x > 50) {
        return +1000;
      }
      return interpolation(equatorialLatToYData, x);
    }
    if (lat < 0) {
      return -sub(-lat);
    } else {
      return sub(lat);
    }
  }
  let y = equatorialLatToY(lat);
  if (!isEc) {
    y = y - equatorialLngToEclipticY(lng);
  }
  return [lng, y];
}

function eclipticLngToEquatorial(lng) {
  if (lng >= 360) {
    lng -= 360;
  } else if (lng < 0) {
    lng += 360;
  }
  function sub(x) {
    return interpolation(eclipticLngToEquatorialData, x);
  }
  if (lng < 90) {
    return sub(lng);
  } else if (lng < 180) {
    return 180 - sub(180 - lng);
  } else if (lng < 270) {
    return 180 + sub(lng - 180);
  } else {
    return 360 - sub(360 - lng);
  }
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 北天の地平線の計算
////////////////////////////////////////////////////////////////////////////////////////////////////

const northernHorizontalLatData = [
  54.300, 54.296, 54.284, 54.263, 54.234, 54.196, 54.151, 54.097, 54.034, 53.963,
  53.883, 53.795, 53.698, 53.592, 53.477, 53.354, 53.221, 53.079, 52.927, 52.766,
  52.595, 52.415, 52.224, 52.024, 51.812, 51.591, 51.358, 51.115, 50.860, 50.594,
  50.316, 50.026, 49.725, 49.410, 49.083, 48.742, 48.388, 48.021, 47.639, 47.243,
  46.831, 46.405, 45.963, 45.505, 45.031, 44.539, 44.031, 43.504, 42.959, 42.396,
  41.814, 41.212, 40.590, 39.947, 39.283, 38.598, 37.890, 37.160, 36.407, 35.631,
  34.831, 34.007, 33.158, 32.285, 31.386, 30.461, 29.511, 28.535, 27.534, 26.506,
  25.453, 24.374, 23.270, 22.140, 20.986, 19.808, 18.607, 17.383, 16.137, 14.871,
  13.585, 12.282, 10.961, 9.626, 8.277, 6.916, 5.545, 4.166, 2.780, 1.391,
  0.000,
];

function northernHorizontalLat(lng) {
  function sub(x) {
    return interpolation(northernHorizontalLatData, x);
  }
  if (lng < 90) {
    return 0;
  } else if (lng < 180) {
    return sub(180 - lng);
  } else if (lng < 270) {
    return sub(lng - 180);
  } else {
    return 0;
  }
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 日時計算ライブラリ
////////////////////////////////////////////////////////////////////////////////////////////////////

function timeToYear(time) {
  const day = Math.floor((time + 9 * 3600) / 86400);
  const year = Math.floor((day * 4 + 2) / 1461) + 1970;
  // 0 -> 0
  // 364 -> 0
  // 365 -> 1
  // 729 -> 1
  // 730 -> 2
  // 1095 -> 2
  // 1096 -> 3
  // 1460 -> 3
  // 1461 -> 4
  const firstDayOfYear = Math.ceil(((year - 1970) * 1461 - 2) / 4);
  let yday = day - firstDayOfYear;
  if (year % 4 != 0 && yday >= 59) {
    yday++;
  }
  return [year, yday];
}

function ydayToMonth(yday) {
  const data = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
  let d = yday;
  for (let i = 0; i < 12; i++) {
    if (d < data[i]) {
      return [i + 1, d + 1, data[i]];
    }
    d -= data[i];
  }
  return [13, d, 1];
}

function timeToWday(time) {
  return (Math.floor((time + 9 * 3600) / 86400) + 4) % 7;
}

function calcSecondsPerYear(time, count) {
  let delta = 0;
  let [year, yday]  = timeToYear(time);
  if (count > 0) {
    if (yday < 59) {
      if (year % 4 == 0) {
        delta = 366;
      } else {
        delta = 365;
      }
    } else {
      if (year % 4 == 3) {
        delta = 366;
      } else {
        delta = 365;
      }
    }
  } else {
    if (yday < 59) {
      if (year % 4 == 1) {
        delta = -366;
      } else {
        delta = -365;
      }
    } else {
      if (year % 4 == 0) {
        delta = -366;
      } else {
        delta = -365;
      }
    }
  }
  return delta * 86400;
}

function calcSecondsPerMonth(time, count) {
  if (count > 0) {
      let [year, yday]  = timeToYear(time);
      let [month, mday, daysOfMonth] = ydayToMonth(yday);
      if (year % 4 != 0 && month == 2) daysOfMonth--;
      let time2 = time + 86400 * (daysOfMonth - mday + 1);
      let [year2, yday2]  = timeToYear(time2);
      let [month2, mday2, daysOfMonth2] = ydayToMonth(yday2);
      if (year2 % 4 != 0 && month2 == 2) daysOfMonth2--;
      let delta = daysOfMonth;
      if (mday > daysOfMonth2) {
        delta = daysOfMonth - mday + daysOfMonth2;
      }
      return 86400 * delta;
    } else {
      let [year, yday]  = timeToYear(time);
      let [month, mday, daysOfMonth] = ydayToMonth(yday);
      if (year % 4 != 0 && month == 2) daysOfMonth--;
      let time2 = time - 86400 * mday;
      let [year2, yday2]  = timeToYear(time2);
      let [month2, mday2, daysOfMonth2] = ydayToMonth(yday2);
      if (year2 % 4 != 0 && month2 == 2) daysOfMonth2--;
      let delta = daysOfMonth2;
      if (mday > daysOfMonth2) {
        delta = mday;
      }
      return -86400 * delta;
    }
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 各ディスクから呼び出される回転制御のライブラリ
////////////////////////////////////////////////////////////////////////////////////////////////////

function diskSetTimeCommon(moveDisk, disk, time, speed = 100) {
  let curAngle = 0;
  if (disk.value != null) {
    curAngle = disk.valueToAngle(disk.value);
  }
  disk.value = disk.timeToValue(time);
  let newAngle = disk.valueToAngle(disk.value);
  if (curAngle < newAngle && curAngle + 180 < newAngle) {
    newAngle -= 360;
  } else if (curAngle > newAngle && curAngle - 180 > newAngle) {
    newAngle += 360;
  }
  moveDisk(disk.name(), curAngle, newAngle, speed);
}

function diskScrollingCommon(moveDisk, disk, angle, speed = 240) {
  if (disk.angle == angle) {
    return;
  }
  moveDisk(disk.name(), disk.valueToAngle(disk.value) + disk.angle, disk.valueToAngle(disk.value) + angle, speed);
  disk.angle = angle;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 回転制御
////////////////////////////////////////////////////////////////////////////////////////////////////

function initializeTimeControl(clockElement) {
  const timeResetEventListeners = [];
  function addTimeResetEventListener(disk) {
    timeResetEventListeners.push(disk);
  }
  function fireTimeResetEvent(time) {
    for (const disk of timeResetEventListeners) {
      disk.setTime(time);
    }
  }

  const pulseEventListeners = [];
  function addPulseEventListener(disk) {
    pulseEventListeners.push(disk);
  }
  function firePulseEvent(time) {
    for (const disk of pulseEventListeners) {
      disk.setTime(time);
    }
  }

  const moveEventListeners = [];
  function addMoveEventListener(diskName, disk) {
    moveEventListeners.push({diskName, disk});
  }
  function fireMoveEvent(diskName, time) {
    for (const info of moveEventListeners) {
      if (info.diskName == diskName) {
        info.disk.setTime(time);
      }
    }
  }

  const diskScrollListener = {};
  function addDiskScrollListener(disk, angleUnit) {
    diskScrollListener[disk.name()] = {disk, angleUnit};
  }

  function moveDisk(diskName, startAngle, endAngle, speed, isTictac = false) {
    if (isNaN(startAngle)) {
      throw {msg:"Error", value:startAngle};
    }
    if (isNaN(endAngle)) {
      throw {msg:"Error", value:endAngle};
    }
    if (speed == 0) {
      throw {msg:"Error", value:speed};
    }
    if (startAngle >= 360) {
      startAngle -= 360;
    } else if (startAngle < 0) {
      startAngle += 360;
    }
    if (endAngle >= 360) {
      endAngle -= 360;
    } else if (endAngle < 0) {
      endAngle += 360;
    }
    let [idx, firstAngle] = getDiskMovingEndTime(diskName);
    if (idx > 0) {
      startAngle = firstAngle;
      removeDiskMovingTail(diskName);
      isTictac = false;
      idx = 1;
    }
    let diff = endAngle - startAngle;
    if (diff == 0) {
      return;
    }
    if (diff < 0) {
      diff += 360;
    }
    if (diff >= 180) {
      diff -= 360;
      if (endAngle > startAngle) {
        endAngle -= 360;
      }
    } else {
      if (endAngle < startAngle) {
        endAngle += 360;
      }
    }
    if (isTictac) {
      setDiskMovingData(idx + 0, diskName, endAngle - diff / 6, false);
      setDiskMovingData(idx + 1, diskName, endAngle + diff / 12, false);
      setDiskMovingData(idx + 2, diskName, endAngle, true);
    } else {
      let count;
      if (diff > 0) {
        count = Math.ceil(diff / speed * 50);
      } else {
        count = Math.ceil(-diff / speed * 50);
      }
      let delta = diff / count;
      for (let i = 1; i <= count; i++) {
        let angle = startAngle + delta * i;
        if (i == count) {
          setDiskMovingData(idx + (i - 1), diskName, angle, true);
          break;
        }
        setDiskMovingData(idx + (i - 1), diskName, angle, false);
      }
    }
  }

  const diskMovingData = [];

  function getDiskMovingEndTime(diskName) {
    let idx = 0;
    let firstAngle = 0;
    while (true) {
      if (idx >= diskMovingData.length) {
        return [idx, firstAngle];
      }
      let exists = false;
      for (const d of diskMovingData[idx]) {
        if (d.diskName == diskName) {
          exists = true;
          if (idx == 0) {
            firstAngle = d.angle;
          }
          break;
        }
      }
      if (!exists) {
        return [idx, firstAngle];
      }
      idx++;
    }
  }

  function removeDiskMovingTail(diskName) {
    let idx = 1;
    while (true) {
      if (idx >= diskMovingData.length) {
        return;
      }
      let exists = false;
      let newData = [];
      for (const d of diskMovingData[idx]) {
        if (d.diskName == diskName) {
          exists = true;
        } else {
          newData.push(d);
        }
      }
      if (!exists) {
        return;
      }
      diskMovingData[idx] = newData;
      idx++;
    }
  }

  function setDiskMovingData(index, diskName, angle, eventFlag) {
    while (diskMovingData.length <= index) {
      diskMovingData.push([]);
    }
    if (angle >= 360) {
      angle -= 360;
    } else if (angle < 0) {
      angle += 360;
    }
    diskMovingData[index].push({diskName, angle, eventFlag});
    if (eventMode % 2 == 0) {
      eventMode++;
      let ev = eventMode;
      setTimeout(() => diskMovingLoop(ev), 1);
    }
  }

  function setElementAngle(element, angle) {
    let rotation = element.dataset.rotation;
    if (rotation) {
      rotation = parseFloat(rotation);
    } else {
      rotation = 0;
    }
    element.style.transform = "rotateZ(" + (rotation + angle) + "deg)";
  }

  let balanceWheelElements = null;

  function setBalanceWheelAngle(angle) {
    const layerName = "balance-wheel";
    if (balanceWheelElements == null) {
      balanceWheelElements = [];
      for (const elem of clockElement.getElementsByClassName(layerName + "-layer")) {
        if (!elem.classList.contains("rotation")) continue;
        balanceWheelElements.push(elem);
      }
    }
    for (const elem of balanceWheelElements) {
      setElementAngle(elem, angle);
    }
  }

  const minTime = -9 * 3600;
  const maxTime = 1461 * 25 * 86400 - 9 * 3600;

  let eventMode = 0; // 偶数:停止中 奇数:針動作中
  let indicatingTime = 0;
  let indicatingTimeOffset = 0;
  let isCurrentTime = true;
  let isTictac = true;

  function diskMovingLoop(ev) {
    if (eventMode != ev) {
      return;
    }
    if (diskMovingData.length == 0) {
      eventMode++;
      return;
    }
    const data = diskMovingData.shift();
    for (const d of data) {
      const angle = d.angle;
      for (const elem of clockElement.getElementsByClassName(d.diskName + "-layer")) {
        if (!elem.classList.contains("rotation")) continue;
        setElementAngle(elem, angle);
      }
      if (d.diskName == "mday-hand") {
        setCalendarHandRotation(angle);
      }
      if (d.eventFlag) {
        fireMoveEvent(d.diskName, indicatingTime);
      }
    }
    setTimeout(() => diskMovingLoop(ev), 20);
  }

  let pulseMode = 1; // 偶数:停止中 奇数:針動作中

  function setPulseMode({isPulseActive, isNow}) {
    if (isNow && !isPulseActive) {
      throw "Error";
    }
    if (isPulseActive) {
      if (pulseMode % 2 == 0) {
        pulseMode++;
        const time0 = Date.now();
        const time = Math.floor(Date.now() / 1000);
        indicatingTimeOffset = indicatingTime - time;
        setTimeout(() => wheelLoop(pulseMode), 20);
      }
    } else {
      if (pulseMode % 2 == 1) {
        pulseMode++;
      }
    }
    if (isNow) {
      indicatingTimeOffset = 0;
    }
  }

  function wheelLoop(pm) {
    if (pulseMode != pm) {
      return;
    }

    const time0 = Date.now();
    const time = Math.floor(Date.now() / 1000);

    pulse(time);

    const interval = 1000 - (time0 - time * 1000);
    setTimeout(() => wheelLoop(pm), interval);
  }

  function pulse(time) {
    const delta = time + indicatingTimeOffset - indicatingTime;
    indicatingTime += delta;
    if (indicatingTime >= maxTime) {
      indicatingTime = maxTime - 1;
      fireTimeResetEvent(indicatingTime);
    } else if (delta == 1) {
      firePulseEvent(indicatingTime);
    } else {
      fireTimeResetEvent(indicatingTime);
    }
    //setDisplay(indicatingTime);
  }

  function changeIndicatingTime(time, isRelative) {
    if (isRelative) {
      indicatingTime += time;
      indicatingTimeOffset += time;
    } else {
      indicatingTimeOffset = indicatingTimeOffset + time - indicatingTime;
      indicatingTime = time;
    }
    if (indicatingTime < minTime) {
      indicatingTime = minTime;
    } else if (indicatingTime >= maxTime) {
      indicatingTime = maxTime - 1;
    }
    fireTimeResetEvent(indicatingTime);
    //setDisplay(indicatingTime);
  }

  setTimeout(() => wheelLoop(1), 20);

  return [addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode, diskScrollListener];
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// ヘルプ表示
////////////////////////////////////////////////////////////////////////////////////////////////////

function createHelpElement(clockElement) {
  const element1 = createHTMLElement(clockElement, "div", element => {
    element.style.position = "absolute";
    element.style.boxSizing = "border-box";
    element.style.top = "0";
    element.style.height = "100%";
    element.style.left = "0";
    element.style.width = "100%";
  });
  const element2 = createHTMLElement(element1, "div", element => {
    element.style.top = "0";
    element.style.height = "100%";
    element.style.left = "0";
    element.style.width = "100%";
    element.style.shapeOutside = "polygon(0% 0%, 0% 100%, 100% 100%, 60% 100%, 70% 97%, 86% 86%, 97% 70%, 100% 60%, 100% 40%, 97% 30%, 86% 14%, 70% 3%, 60% 0%)";
    element.style.float = "left";
  });
  const helpElement = createHTMLElement(element1, "div", element => {
    element.style.fontSize = "12px";
    element.style.lineHeight = "100%";
  });

  let currentLayerName = null;
  let transparentMode = 0; // 0 or 1

  function setTransparentLayer(layerName) {
    if (layerName == currentLayerName) {
      transparentMode = 1 - transparentMode;
    }

    if (layerName == null || layerName == "") {
      helpElement.innerHTML = "";
      transparentMode = 0;
    } else {
      helpElement.innerHTML = "";

      createHTMLElement(helpElement, "div", element1 => {
        element1.style.textAlign = "right";
        function createButtonElement(html, eventListener) {
          createHTMLElement(element1, "a", element => {
            element.style.color = "#000000";
            element.style.fontSize = "24px";
            element.style.textDecoration = "none";
            element.setAttribute("href", "");
            element.innerHTML = html;
            element.addEventListener("click", event => {
              event.preventDefault();
              eventListener(event);
            });
          });
        }
        createButtonElement("&#x25c0;", event => {
          movePrevLayer();
        });
        createButtonElement("&#x25b6;", event => {
          moveNextLayer();
        });
      });

      const help = getLayerHelpText(layerName);
      for (const t of help) {
        createHTMLElement(helpElement, "p", element => {
          element.innerText = t;
        });
      }
    }

    for (const elem of clockElement.getElementsByClassName("layer")) {
      const name = getLayerNameFromElement(elem);
      const isGlass = elem.classList.contains("glass");
      const cmp = compareLayer(name, layerName);
      if (transparentMode == 1) {
        if (isGlass) {
          elem.style.display = "none";
        } else {
          if (layerName == null) {
            elem.style.display = elem.dataset.origDisplay;
          } else if (cmp <= 0) {
            elem.style.display = elem.dataset.origDisplay;
          } else {
            if (elem.dataset.origDisplay == undefined) {
              elem.dataset.origDisplay = elem.style.display;
            }
            elem.style.display = "none";
          }
        }
      } else {
        if (isGlass) {
          if (layerName == null) {
            elem.style.display = "none";
          } else if (name == layerName) {
            elem.style.display = "none";
          } else {
            elem.style.display = "";
            elem.style.backgroundColor = "#d0d0d040";
          }
        } else {
          if (layerName == null) {
            elem.style.display = elem.dataset.origDisplay;
          } else if (cmp == 0) {
            elem.style.display = elem.dataset.origDisplay;
          } else {
            if (elem.dataset.origDisplay == undefined) {
              elem.dataset.origDisplay = elem.style.display;
            }
            elem.style.display = "none";
          }
        }
      }
    }

    currentLayerName = layerName;
  }

  function movePrevLayer() {
    if (currentLayerName == null) {
      return;
    }
    setTransparentLayer(getPrevLayerName(currentLayerName));
  }

  function moveNextLayer() {
    if (currentLayerName == null) {
      return;
    }
    setTransparentLayer(getNextLayerName(currentLayerName));
  }

  return [helpElement, setTransparentLayer];
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// マウスイベント
////////////////////////////////////////////////////////////////////////////////////////////////////

function initializeMouseEvent(clockElement, circleElement, helpElement, setTransparentLayer, setPulseMode, diskScrollListener) {
  function getMouseEventPosition(event) {
    const clockRect = circleElement.getBoundingClientRect();
    const x = event.pageX - (clockRect.left + clockRect.right) / 2 - window.pageXOffset;
    const y = event.pageY - (clockRect.top + clockRect.bottom) / 2 - window.pageYOffset;
    return Math.atan2(x, -y) * 180 / Math.PI;
  }

  function isMouseEventPositionInCircle(event) {
    const clockRect = circleElement.getBoundingClientRect();
    const clockSize = (clockRect.right - clockRect.left) / 2;
    const x = event.pageX - (clockRect.left + clockRect.right) / 2 - window.pageXOffset;
    const y = event.pageY - (clockRect.top + clockRect.bottom) / 2 - window.pageYOffset;
    const r2 = x * x + y * y;
    if (r2 > clockSize * clockSize) {
      return false;
    } else {
      return true;
    }
  }

  let scrollDiskName = null;
  let scrollDisk = null;
  let scrollAngleUnit = 0;
  let scrollCount = 0;
  let scrollStartPosition = null;
  let scrollStartPositionX = null;
  let scrollStartPositionY = null;
  let scrollDirection = 0;
  let scrollMoved = false;

  for (const elem of clockElement.getElementsByClassName("layer")) {
    const diskName = getLayerNameFromElement(elem);
    let disk = null;
    let angleUnit = null;
    if (diskScrollListener[diskName]) {
      disk = diskScrollListener[diskName].disk;
      angleUnit = diskScrollListener[diskName].angleUnit;
    }
    if (elem.classList.contains("scrollable")) {
      if (disk == null) {
        console.log("disk not implemented: " + diskName)
      }
    }
    elem.addEventListener("mousedown", event => {
      event.preventDefault();
      scrollDiskName = diskName;
      scrollStartPosition = getMouseEventPosition(event);
      scrollStartPositionX = event.pageX;
      scrollStartPositionY = event.pageY;
      scrollMoved = false;
      if (elem.classList.contains("scrollable")) {
        scrollDisk = disk;
        scrollAngleUnit = angleUnit;
        scrollCount = 0;
        scrollDirection = 0;
        clockElement.style.cursor = "grab";
      }
    });
    elem.addEventListener("click", event => {
      return false;
    });
    if (elem.classList.contains("scrollable")) {
      elem.style.cursor = "grab";
    }
  }

  clockElement.addEventListener("mousemove", event => {
    const dx = event.pageX - scrollStartPositionX;
    const dy = event.pageY - scrollStartPositionY;
    if (!scrollMoved && dx * dx + dy * dy >= 10 * 10) {
      scrollMoved = true;
    }

    if (!isMouseEventPositionInCircle(event)) {
      return;
    }

    if (scrollDisk == null) {
      return;
    }

    event.preventDefault();

    const pos = getMouseEventPosition(event);
    let angle = pos - scrollStartPosition;
    if (angle < -180) {
      angle += 360;
    } else if (angle >= 180) {
      angle -= 360;
    }
    if (angle >= scrollAngleUnit * 0.5) {
      while (angle >= scrollAngleUnit * 0.5) {
        scrollCount++;
        scrollDisk.diskScrolled(+1);
        scrollStartPosition += scrollAngleUnit;
        if (scrollStartPosition >= 180) {
          scrollStartPosition -= 360;
        }
        angle -= scrollAngleUnit;
        scrollDirection = +1;
      }
    } else if (angle <= -scrollAngleUnit * 0.5) {
      while (angle <= -scrollAngleUnit * 0.5) {
        scrollCount--;
        scrollDisk.diskScrolled(-1);
        scrollStartPosition -= scrollAngleUnit;
        if (scrollStartPosition <= -180) {
          scrollStartPosition += 360;
        }
        angle += scrollAngleUnit;
        scrollDirection = -1;
      }
    } else {
      if (scrollDirection > 0) {
        if (angle > 0) {
          scrollDisk.diskScrolling(angle);
          scrollDirection = 0;
        }
      } else if (scrollDirection < 0) {
        if (angle < 0) {
          scrollDisk.diskScrolling(angle);
          scrollDirection = 0;
        }
      } else {
        scrollDisk.diskScrolling(angle);
      }
    }
  });

  helpElement.addEventListener("mousedown", event => {
    event.stopPropagation();
  });
  helpElement.addEventListener("mouseup", event => {
    event.stopPropagation();
  });
  helpElement.addEventListener("click", event => {
    event.stopPropagation();
  });

  function mouseUpListener() {
    if (scrollDiskName == "second-hand" && (scrollCount >= 30 || scrollCount <= -30)) {
      setPulseMode({isPulseActive: true, isNow: true});
    } else if (scrollDiskName == "second-hand" && scrollCount >= 1) {
      setPulseMode({isPulseActive: true, isNow: false});
    } else if (scrollDisk) {
      scrollDisk.diskScrolling(0);
    }
    if (!scrollMoved) {
      setTransparentLayer(scrollDiskName);
    }
    scrollDiskName = null;
    scrollDisk = null;
    scrollStartPosition = null;
    clockElement.style.cursor = null;
  }
  clockElement.addEventListener("mouseup", event => {
    mouseUpListener();
  });

  clockElement.addEventListener("mouseleave", event => {
    mouseUpListener();
  });

  document.addEventListener("click", event => {
    if (!isMouseEventPositionInCircle(event)) {
      setTransparentLayer(null);
    }
  });

}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 初期化処理から呼び出されるライブラリ
////////////////////////////////////////////////////////////////////////////////////////////////////

// 回転要素のtransform設定
function initializeRotation(clockElement) {
  function initializeElement(elem) {
    let rot = elem.dataset.rotation;
    if (rot) {
      rot = parseFloat(rot);
    } else {
      rot = 0;
    }
    elem.style.transform = "rotateZ(" + rot + "deg)";
  }
  for (const elem of clockElement.getElementsByClassName("rotation")) {
    initializeElement(elem);
  }
  for (const elem of clockElement.getElementsByClassName("rotation-fixed")) {
    initializeElement(elem);
  }
}

function getLayerIndex(name) {
  for (let i = 0; i < layerNames.length; i++) {
    if (layerNames[i].name == name) {
      return i;
    }
  }
  if (name == "") {
    return layerNames.length;
  }
  if (name == null) {
    return -1;
  }
  throw "Error: " + name;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// レイヤー関係のライブラリ
////////////////////////////////////////////////////////////////////////////////////////////////////

function getLayerHelpText(name) {
  return layerNames[getLayerIndex(name)].help;
}

function compareLayer(layerName1, layerName2) {
  const idx1 = getLayerIndex(layerName1);
  const idx2 = getLayerIndex(layerName2);
  return idx1 - idx2;
}

function getPrevLayerName(layerName) {
  let idx = getLayerIndex(layerName);
  idx--;
  if (idx >= 0) {
    return layerNames[idx].name;
  } else {
    return null;
  }
}

function getNextLayerName(layerName) {
  let idx = getLayerIndex(layerName);
  idx++;
  if (idx < layerNames.length) {
    return layerNames[idx].name;
  } else {
    return null;
  }
}

function getLayerNameFromElement(elem) {
  for(const cls of elem.classList) {
    if (cls.endsWith("-layer")) {
      return cls.substring(0, cls.length - 6);
    }
  }
  return "";
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 時計構築のメイン処理
////////////////////////////////////////////////////////////////////////////////////////////////////

function initializeClockElement(clockElement) {
  clockElement.style.position = "relative";
  clockElement.style.height = "1000px";
  clockElement.style.width = "1000px";
  clockElement.style.fontFamily = "sans-serif";
  clockElement.style.boxSizing = "border-box";
  clockElement.style.lineHeight = "60%";
}

function createClockCircleElement(clockElement) {
  return createDiskElement(clockElement, {
    layerName: "",
    size: -0,
  }, null, (shadowElement, element) => {
    shadowElement.className = "";
    element.className = "";
  });
}

function initializeClock(clockElementId) {
  addDsegFontStyle();

  const clockElement = document.getElementById(clockElementId);
  initializeClockElement(clockElement);
  const circleElement = createClockCircleElement(clockElement);

  const [helpElement, setTransparentLayer] = createHelpElement(clockElement);

  for (const g of layerInitializers) {
    g(clockElement);
  }

  initializeRotation(clockElement);

  const [addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode, diskScrollListener] = initializeTimeControl(clockElement);

  for (const g of diskGenerators) {
    g(addTimeResetEventListener, addPulseEventListener, addMoveEventListener, addDiskScrollListener, moveDisk, changeIndicatingTime, setPulseMode);
  }

  initializeMouseEvent(clockElement, circleElement, helpElement, setTransparentLayer, setPulseMode, diskScrollListener);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 天体の位置計算
////////////////////////////////////////////////////////////////////////////////////////////////////

function timeToMjd(time) {
  return time / 86400.0 + 40587.0;
}

function timeToSidereal(time) {
  const day = timeToMjd(time);
  const time1 = 0.280191 + 1.0027379094 * (day - 59215.0);
  const time2 = time1 - Math.floor(time1);
  return time2 * 360;
}

function midnightTimeToSiderial(time) {
  const day1 = (time + 9 * 3600) / 86400.0;
  const day2 = day1 - Math.floor(day1);
  return timeToSidereal(time) - day2 * 360;
}

function calcSunLng(time0) {
  const time = timeToMjd(time0);
  let lng = 0.0;
  lng += 360.0 * (time / 365.242190 + -0.34510);
  lng += 1.84051 * Math.sin(time / 365.24219 * 2.0 * Math.PI + -0.84766);
  lng += 2.48060 * Math.sin(time / 182.62110 * 2.0 * Math.PI + -1.19861);
  lng += 0.07948 * Math.sin(time / 121.74740 * 2.0 * Math.PI + -2.04450);
  lng += 0.05485 * Math.sin(time / 91.31055 * 2.0 * Math.PI + -2.40903);
  lng = lng / 360;
  return (lng - Math.floor(lng)) * 360;
}
function calcMoonLng(time0) {
  const time = timeToMjd(time0);
  let lng = 0.0;
  lng += 360.0 * (time / 27.321582 + 0.02098);
  lng += 2.45871 * Math.sin(time / 13.66079 * 2.0 * Math.PI + -2.87779);
  lng += 6.28863 * Math.sin(time / 27.55455 * 2.0 * Math.PI + -1.63271);
  lng += 0.21363 * Math.sin(time / 13.77728 * 2.0 * Math.PI + 3.01821);
  lng += 1.27422 * Math.sin(time / 31.81200 * 2.0 * Math.PI + -0.02892);
  lng += 1.07087 * Math.sin(time / 6801.40000 * 2.0 * Math.PI + -2.67336);
  lng += 1.05417 * Math.sin(time / 13.63330 * 2.0 * Math.PI + -2.61884);
  lng += 0.65676 * Math.sin(time / 14.76530 * 2.0 * Math.PI + -1.67404);
  lng += 0.27352 * Math.sin(time / 27.09180 * 2.0 * Math.PI + 1.54284);
  lng += 0.18521 * Math.sin(time / 365.27000 * 2.0 * Math.PI + 2.38774);
  lng += 0.26904 * Math.sin(time / 9.13285 * 2.0 * Math.PI + 1.41754);
  lng += 0.11466 * Math.sin(time / 26.98520 * 2.0 * Math.PI + 2.44826);
  lng += 0.11488 * Math.sin(time / 9.12065 * 2.0 * Math.PI + 2.08042);
  lng += 0.11242 * Math.sin(time / 13.60620 * 2.0 * Math.PI + -1.81354);
  lng += 0.05947 * Math.sin(time / 23.94160 * 2.0 * Math.PI + -0.00201);
  lng += 0.05870 * Math.sin(time / 205.88600 * 2.0 * Math.PI + 1.51509);
  lng += 0.05715 * Math.sin(time / 34.84680 * 2.0 * Math.PI + 0.70136);
  lng += 0.05444 * Math.sin(time / 6.83030 * 2.0 * Math.PI + -0.21226);
  lng += 0.05330 * Math.sin(time / 9.61365 * 2.0 * Math.PI + 2.70116);
  lng = lng / 360;
  return (lng - Math.floor(lng)) * 360;
}
function calcMoonPhase(time) {
  return calcMoonLng(time) - calcSunLng(time);
}
function calcMercuryLng(time0) {
  const time = timeToMjd(time0);
  let lng = 0.0;
  lng += 360.0 * (time / 365.242190 + -0.34503);
  lng += 21.32993 * Math.sin(time / 115.88000 * 2.0 * Math.PI + 0.73046);
  lng += 4.85608 * Math.sin(time / 365.26800 * 2.0 * Math.PI + 3.03822);
  lng += 3.76206 * Math.sin(time / 57.93900 * 2.0 * Math.PI + -1.78069);
  lng += 2.23753 * Math.sin(time / 182.63700 * 2.0 * Math.PI + -0.85722);
  lng += 2.10577 * Math.sin(time / 50.00680 * 2.0 * Math.PI + -2.11687);
  lng += 1.98056 * Math.sin(time / 169.72300 * 2.0 * Math.PI + -2.24943);
  lng += 1.29486 * Math.sin(time / 70.89300 * 2.0 * Math.PI + -1.02896);
  lng += 0.91386 * Math.sin(time / 317.06000 * 2.0 * Math.PI + 1.64357);
  lng += 0.84931 * Math.sin(time / 38.62600 * 2.0 * Math.PI + 2.05726);
  lng += 0.75179 * Math.sin(time / 34.93200 * 2.0 * Math.PI + 1.70500);
  lng += 0.65158 * Math.sin(time / 68.86200 * 2.0 * Math.PI + 1.49447);
  lng += 0.35664 * Math.sin(time / 84.86450 * 2.0 * Math.PI + -0.76805);
  lng += 0.31852 * Math.sin(time / 31.88260 * 2.0 * Math.PI + 1.26364);
  lng += 0.26359 * Math.sin(time / 26.84060 * 2.0 * Math.PI + -0.80896);
  lng += 0.20625 * Math.sin(time / 43.19340 * 2.0 * Math.PI + -1.06953);
  lng += 0.18803 * Math.sin(time / 87.96850 * 2.0 * Math.PI + 2.98124);
  lng += 0.20731 * Math.sin(time / 28.96940 * 2.0 * Math.PI + -0.41308);
  lng += 0.16560 * Math.sin(time / 121.77800 * 2.0 * Math.PI + 2.77327);
  lng += 0.15217 * Math.sin(time / 25.00320 * 2.0 * Math.PI + -1.21143);
  lng += 0.14121 * Math.sin(time / 2401.62000 * 2.0 * Math.PI + -1.38347);
  lng += 0.13564 * Math.sin(time / 116.22900 * 2.0 * Math.PI + 0.57756);
  lng += 0.13457 * Math.sin(time / 39.25720 * 2.0 * Math.PI + 2.55813);
  lng += 0.13283 * Math.sin(time / 48.98740 * 2.0 * Math.PI + 2.96706);
  lng += 0.08235 * Math.sin(time / 110.50800 * 2.0 * Math.PI + 1.36578);
  lng += 0.09526 * Math.sin(time / 115.44900 * 2.0 * Math.PI + 1.74588);
  lng += 0.09096 * Math.sin(time / 21.79280 * 2.0 * Math.PI + 3.04165);
  lng += 0.06870 * Math.sin(time / 59.36900 * 2.0 * Math.PI + 1.93843);
  lng += 0.06310 * Math.sin(time / 31.46500 * 2.0 * Math.PI + 2.71660);
  lng += 0.05727 * Math.sin(time / 23.40160 * 2.0 * Math.PI + -1.37437);
  lng += 0.06713 * Math.sin(time / 20.56580 * 2.0 * Math.PI + 2.70132);
  lng += 0.05222 * Math.sin(time / 23.17560 * 2.0 * Math.PI + -2.76857);
  lng = lng / 360;
  return (lng - Math.floor(lng)) * 360;
}
function calcMercuryPhase(time0) {
  const time = timeToMjd(time0);
  let lng = 0.0;
  lng += 360.0 * (time / -115.880000 + 0.38646);
  lng += 23.30413 * Math.sin(time / 87.96850 * 2.0 * Math.PI + 0.27361);
  lng += 21.81808 * Math.sin(time / 115.87900 * 2.0 * Math.PI + 0.68759);
  lng += 5.17668 * Math.sin(time / 365.26600 * 2.0 * Math.PI + 2.98017);
  lng += 4.25218 * Math.sin(time / 57.93950 * 2.0 * Math.PI + -1.74624);
  lng += 2.93317 * Math.sin(time / 43.98440 * 2.0 * Math.PI + -2.66719);
  lng += 2.26810 * Math.sin(time / 169.72000 * 2.0 * Math.PI + -2.24640);
  lng += 2.15609 * Math.sin(time / 50.00720 * 2.0 * Math.PI + -2.04315);
  lng += 1.01190 * Math.sin(time / 38.62680 * 2.0 * Math.PI + 2.18839);
  lng = lng / 360;
  return (lng - Math.floor(lng)) * 360;
}
function calcVenusLng(time0) {
  const time = timeToMjd(time0);
  let lng = 0.0;
  lng += 360.0 * (time / 365.242190 + -0.34510);
  lng += 41.28531 * Math.sin(time / 583.92000 * 2.0 * Math.PI + 2.85952);
  lng += 14.87656 * Math.sin(time / 291.95600 * 2.0 * Math.PI + 2.56056);
  lng += 7.14089 * Math.sin(time / 194.63600 * 2.0 * Math.PI + 2.25609);
  lng += 3.85870 * Math.sin(time / 145.97500 * 2.0 * Math.PI + 1.92671);
  lng += 2.22204 * Math.sin(time / 116.77800 * 2.0 * Math.PI + 1.57035);
  lng += 1.93416 * Math.sin(time / 139.11000 * 2.0 * Math.PI + 1.32049);
  lng += 1.52708 * Math.sin(time / 365.27400 * 2.0 * Math.PI + -0.61731);
  lng += 1.33454 * Math.sin(time / 97.32000 * 2.0 * Math.PI + 1.44533);
  lng += 1.20021 * Math.sin(time / 182.62900 * 2.0 * Math.PI + -0.77870);
  lng += 0.87641 * Math.sin(time / 265.74800 * 2.0 * Math.PI + -0.47250);
  lng += 0.82364 * Math.sin(time / 83.41600 * 2.0 * Math.PI + 1.10446);
  lng += 0.75023 * Math.sin(time / 975.59500 * 2.0 * Math.PI + -0.25102);
  lng += 0.64116 * Math.sin(time / 487.76600 * 2.0 * Math.PI + -0.09894);
  lng += 0.54042 * Math.sin(time / 1454.06000 * 2.0 * Math.PI + 3.04107);
  lng += 0.51794 * Math.sin(time / 72.98900 * 2.0 * Math.PI + 0.81376);
  lng += 0.47023 * Math.sin(time / 2956.28000 * 2.0 * Math.PI + -0.04208);
  lng += 0.39022 * Math.sin(time / 416.76800 * 2.0 * Math.PI + 3.06748);
  lng += 0.36110 * Math.sin(time / 224.72800 * 2.0 * Math.PI + -0.84739);
  lng += 0.34651 * Math.sin(time / 727.85000 * 2.0 * Math.PI + 3.02332);
  lng += 0.33165 * Math.sin(time / 64.87900 * 2.0 * Math.PI + 0.51861);
  lng += 0.28046 * Math.sin(time / 243.19400 * 2.0 * Math.PI + 2.78949);
  lng += 0.25851 * Math.sin(time / 324.03600 * 2.0 * Math.PI + 2.86109);
  lng = lng / 360;
  return (lng - Math.floor(lng)) * 360;
}
function calcVenusPhase(time0) {
  const time = timeToMjd(time0);
  let lng = 0.0;
  lng += 360.0 * (time / -583.920000 + 0.04669);
  lng += 41.46588 * Math.sin(time / 583.90500 * 2.0 * Math.PI + 2.83316);
  lng += 15.09462 * Math.sin(time / 291.95600 * 2.0 * Math.PI + 2.54377);
  lng += 7.30720 * Math.sin(time / 194.63500 * 2.0 * Math.PI + 2.22296);
  lng += 4.05602 * Math.sin(time / 145.97600 * 2.0 * Math.PI + 1.92305);
  lng += 2.36668 * Math.sin(time / 116.78000 * 2.0 * Math.PI + 1.59540);
  lng += 1.54655 * Math.sin(time / 365.29800 * 2.0 * Math.PI + -0.54288);
  lng += 1.52400 * Math.sin(time / 97.31700 * 2.0 * Math.PI + 1.33067);
  lng = lng / 360;
  return (lng - Math.floor(lng)) * 360;
}
function calcMarsLng(time0) {
  const time = timeToMjd(time0);
  let lng = 0.0;
  lng += 360.0 * (time / 686.979700 + -0.04195);
  lng += 11.48778 * Math.sin(time / 686.97970 * 2.0 * Math.PI + 0.17687);
  lng += 1.48615 * Math.sin(time / 343.48985 * 2.0 * Math.PI + 1.96348);
  lng += 1.72180 * Math.sin(time / 365.24219 * 2.0 * Math.PI + 1.41131);
  lng += 37.39250 * Math.sin(time / 779.94000 * 2.0 * Math.PI + -1.86437);
  lng += 11.99230 * Math.sin(time / 389.97000 * 2.0 * Math.PI + -0.58980);
  lng += 5.69069 * Math.sin(time / 5801.20000 * 2.0 * Math.PI + -0.69913);
  lng += 5.03839 * Math.sin(time / 259.96600 * 2.0 * Math.PI + 0.60769);
  lng += 3.75605 * Math.sin(time / 901.75000 * 2.0 * Math.PI + -0.86464);
  lng += 2.41635 * Math.sin(time / 418.25000 * 2.0 * Math.PI + 0.48817);
  lng += 2.33223 * Math.sin(time / 194.99400 * 2.0 * Math.PI + 2.03583);
  lng += 1.63713 * Math.sin(time / 238.44000 * 2.0 * Math.PI + 0.59512);
  lng += 1.54212 * Math.sin(time / 272.17600 * 2.0 * Math.PI + 1.40406);
  lng += 1.36389 * Math.sin(time / 248.77000 * 2.0 * Math.PI + 2.93872);
  lng += 1.12689 * Math.sin(time / 155.98500 * 2.0 * Math.PI + -3.11351);
  lng += 1.03027 * Math.sin(time / 614.03000 * 2.0 * Math.PI + 0.52214);
  lng += 0.97711 * Math.sin(time / 201.76000 * 2.0 * Math.PI + 2.63776);
  lng += 0.88512 * Math.sin(time / 188.60700 * 2.0 * Math.PI + -2.10737);
  lng += 0.79339 * Math.sin(time / 2881.38000 * 2.0 * Math.PI + -1.31794);
  lng += 0.65122 * Math.sin(time / 1068.28000 * 2.0 * Math.PI + -0.64337);
  lng += 0.61040 * Math.sin(time / 160.29100 * 2.0 * Math.PI + -2.40608);
  lng += 0.57128 * Math.sin(time / 151.87600 * 2.0 * Math.PI + -0.88097);
  lng += 0.55284 * Math.sin(time / 129.98500 * 2.0 * Math.PI + -1.91732);
  lng += 0.51618 * Math.sin(time / 450.96800 * 2.0 * Math.PI + 1.06284);
  lng += 0.33810 * Math.sin(time / 37689.40000 * 2.0 * Math.PI + 3.11717);
  lng += 0.39797 * Math.sin(time / 285.77000 * 2.0 * Math.PI + 2.55169);
  lng += 0.37803 * Math.sin(time / 132.96300 * 2.0 * Math.PI + -1.16284);
  lng += 0.36167 * Math.sin(time / 127.12200 * 2.0 * Math.PI + 0.40665);
  lng += 0.30176 * Math.sin(time / 209.14600 * 2.0 * Math.PI + -2.32184);
  lng += 0.28804 * Math.sin(time / 324.22400 * 2.0 * Math.PI + 1.02518);
  lng += 0.28349 * Math.sin(time / 555.00500 * 2.0 * Math.PI + -0.27623);
  lng += 0.27346 * Math.sin(time / 111.41600 * 2.0 * Math.PI + -0.67473);
  lng += 0.25085 * Math.sin(time / 177.00500 * 2.0 * Math.PI + 0.76324);
  lng += 0.23922 * Math.sin(time / 1927.84000 * 2.0 * Math.PI + -1.35934);
  lng += 0.23113 * Math.sin(time / 113.59600 * 2.0 * Math.PI + 0.08660);
  lng += 0.23052 * Math.sin(time / 109.30600 * 2.0 * Math.PI + 1.66985);
  lng += 0.22163 * Math.sin(time / 5005.20000 * 2.0 * Math.PI + 2.19173);
  lng += 0.21843 * Math.sin(time / 164.90400 * 2.0 * Math.PI + -1.18816);
  lng += 0.20716 * Math.sin(time / 228.98800 * 2.0 * Math.PI + 2.15543);
  lng += 0.20829 * Math.sin(time / 1312.45000 * 2.0 * Math.PI + 0.24676);
  lng += 0.17002 * Math.sin(time / 489.53000 * 2.0 * Math.PI + 2.11367);
  lng += 0.15625 * Math.sin(time / 136.13000 * 2.0 * Math.PI + 0.26905);
  lng += 0.14756 * Math.sin(time / 95.87750 * 2.0 * Math.PI + -3.05911);
  lng += 0.13819 * Math.sin(time / 99.16200 * 2.0 * Math.PI + 1.68654);
  lng += 0.13318 * Math.sin(time / 300.80000 * 2.0 * Math.PI + -2.61936);
  lng += 0.12924 * Math.sin(time / 97.48850 * 2.0 * Math.PI + 0.52646);
  lng += 0.11269 * Math.sin(time / 115.89300 * 2.0 * Math.PI + 1.39344);
  lng += 0.10595 * Math.sin(time / 217.04800 * 2.0 * Math.PI + -1.43219);
  lng += 0.11933 * Math.sin(time / 7320.80000 * 2.0 * Math.PI + 2.60965);
  lng = lng / 360;
  return (lng - Math.floor(lng)) * 360;
}
function calcJupiterLng(time0) {
  const time = timeToMjd(time0);
  let lng = 0.0;
  lng += 360.0 * (time / 4332.400000 + 0.19921);
  lng += 5.76265 * Math.sin(time / 4332.40000 * 2.0 * Math.PI + 1.04774);
  lng += 2.14755 * Math.sin(time / 2166.20000 * 2.0 * Math.PI + -0.72993);
  lng += 0.25816 * Math.sin(time / 365.24219 * 2.0 * Math.PI + 0.68892);
  lng += 10.97653 * Math.sin(time / 398.88000 * 2.0 * Math.PI + 2.88838);
  lng += 1.04641 * Math.sin(time / 199.44000 * 2.0 * Math.PI + 2.62953);
  lng += 0.84525 * Math.sin(time / 439.15600 * 2.0 * Math.PI + 1.49962);
  lng += 0.47461 * Math.sin(time / 336.82800 * 2.0 * Math.PI + 2.16464);
  lng += 0.38359 * Math.sin(time / 489.00000 * 2.0 * Math.PI + -2.52529);
  lng += 0.28023 * Math.sin(time / 37364.00000 * 2.0 * Math.PI + 3.05686);
  lng += 0.22347 * Math.sin(time / 1442.93000 * 2.0 * Math.PI + 0.09769);
  lng += 0.16478 * Math.sin(time / 209.02800 * 2.0 * Math.PI + 1.27442);
  lng += 0.13249 * Math.sin(time / 132.96800 * 2.0 * Math.PI + 2.52511);
  lng += 0.10318 * Math.sin(time / 190.66300 * 2.0 * Math.PI + 1.57791);
  lng = lng / 360;
  return (lng - Math.floor(lng)) * 360;
}
function calcSaturnLng(time0) {
  const time = timeToMjd(time0);
  let lng = 0.0;
  lng += 360.0 * (time / 10759.000000 + 0.35017);
  lng += 5.76285 * Math.sin(time / 10759.00000 * 2.0 * Math.PI + 0.57955);
  lng += 2.42898 * Math.sin(time / 5379.50000 * 2.0 * Math.PI + 1.05987);
  lng += 0.16628 * Math.sin(time / 365.24219 * 2.0 * Math.PI + -0.62953);
  lng += 5.97098 * Math.sin(time / 378.09000 * 2.0 * Math.PI + 1.94763);
  lng += 0.30583 * Math.sin(time / 189.04500 * 2.0 * Math.PI + 0.75714);
  lng += 0.41798 * Math.sin(time / 40208.20000 * 2.0 * Math.PI + -2.71369);
  lng += 0.43953 * Math.sin(time / 391.86600 * 2.0 * Math.PI + 1.37542);
  lng += 0.26060 * Math.sin(time / 406.68400 * 2.0 * Math.PI + 0.89446);
  lng += 0.25350 * Math.sin(time / 353.17400 * 2.0 * Math.PI + 2.94743);
  lng += 0.23973 * Math.sin(time / 3607.36000 * 2.0 * Math.PI + 2.17640);
  lng += 0.17257 * Math.sin(time / 16262.70000 * 2.0 * Math.PI + -0.03030);
  lng += 0.06436 * Math.sin(time / 2675.62000 * 2.0 * Math.PI + 1.44883);
  lng = lng / 360;
  return (lng - Math.floor(lng)) * 360;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
// 星座・恒星のデータ
////////////////////////////////////////////////////////////////////////////////////////////////////

const meteorShowerData = [
  [32.32, "こと座流星群"],
  [140.0, "ペルセウス座流星群"],
  [208.0, "オリオン座流星群"],
  [235.27, "しし座流星群"],
  [262.2, "ふたご座流星群"],
  [283.15, "しぶんぎ座流星群"],
]

const constellationData = [
  [ 15, 10, "うお"],
  [ 15, 35, "アンドロメダ"],
  [ 25,  5, "くじら"],
  [ 35, 20, "おひつじ"],
  [ 50, 45, "ペルセウス"],
  [ 65, 20, "おうし"],
  [ 80,-15, "うさぎ"],
  [ 80, 40, "ぎょしゃ"],
  [ 85,  0, "オリオン"],
  [105,-20, "おおいぬ"],
  [110, 25, "ふたご"],
  [115,  5, "こいぬ"],
  [130, 20, "かに"],
  [160, 15, "しし"],
  [170,-15, "コップ"],
  [185,-20, "からす"],
  [195,  0, "おとめ"],
  [220, 30, "うしかい"],
  [230,-15, "てんびん"],
  [235, 10, "へび(頭)"],
  [235, 30, "かんむり"],
  [250,-30, "さそり"],
  [255, 30, "ヘルクレス"],
  [260,  0, "へびつかい"],
  [275, -5, "へび(尾)"],
  [280,-25, "いて"],
  [285, 35, "こと"],
  [295, 10, "わし"],
  [305, 40, "はくちょう"],
  [315,-20, "やぎ"],
  [335, -5, "みずがめ"],
  [355, 25, "ペガスス"],
  [ 15, 60, "カシオペア"],
  [190, 55, "北斗七星"],
  [230, 75, "こぐま"],
  [265, 60, "りゅう"],
  [335, 70, "ケフェウス"],
];

const starData = [
  [0.39937928, -77.06529438, 4.78], [0.48996506, -6.01397169, 4.37], [0.93488487, -17.33597002, 4.55], [1.1255098, -10.50949443, 4.99],
  [1.33394073, -5.70783255, 4.61], [2.09653333, 29.09082805, 2.07], [2.29204036, 59.15021814, 2.28], [2.35224949, -45.74698836, 3.88],
  [2.81628415, -15.46732287, 4.89], [3.30895828, 15.18361593, 2.83], [3.65045047, 20.2066972, 4.79], [3.66013628, -18.93268628, 4.44],
  [4.27306518, 38.68167915, 4.61], [4.58210555, 36.7853273, 4.51], [4.85701265, -8.82382948, 3.56], [5.00797581, -64.8776232, 4.23],
  [6.41334183, -77.25503511, 2.82], [6.55048418, -43.67990933, 3.93], [6.57028075, -42.30512197, 2.40], [6.98213606, -33.0070446, 4.86],
  [7.85356695, -48.80356171, 4.76], [7.88566992, -62.95808549, 4.36], [7.88898014, -62.96544985, 4.53], [7.94299136, 54.52232473, 4.74],
  [8.24994391, 62.93178781, 4.17], [9.22016239, 33.71935227, 4.34], [9.24277921, 53.89693161, 3.69], [9.63958024, 29.312369, 4.34],
  [9.83165567, 30.86122579, 3.27], [10.12661349, 56.53740928, 2.24], [10.33156671, -46.08500934, 4.59], [10.51618425, 50.51254151, 4.80],
  [10.83851683, -57.46309763, 4.36], [10.8670447, 47.02463657, 4.95], [10.89678452, -17.9866841, 2.04], [11.04752272, -10.60927365, 4.77],
  [11.18125882, 48.28438262, 4.48], [11.83495908, 24.26737703, 4.08], [12.17039736, 7.58520186, 4.44], [12.20830552, 50.96819154, 4.90],
  [12.27125262, 57.8165477, 3.46], [12.45345723, 41.07895474, 4.53], [13.25204382, -1.1442206, 4.78], [13.26783051, 61.12355735, 4.80],
  [13.75080422, 58.97279657, 4.83], [14.16671042, 59.18116582, 4.62], [14.17708808, 60.71674966, 2.15], [14.18790699, 38.49925513, 3.86],
  [14.30178237, 23.41775997, 4.40], [14.65144118, -29.35746436, 4.30], [15.73606615, 7.89007256, 4.27], [16.52127713, -46.71849042, 3.32],
  [17.0960837, -55.24583235, 3.94], [17.14693197, -10.181928, 3.46], [17.18399735, 86.25711803, 4.24], [17.37550908, 47.2418241, 4.26],
  [17.43248991, 35.62083048, 2.07], [17.77471116, 55.14994765, 4.34], [17.86330901, 21.03467568, 4.66], [17.91494471, 30.08972962, 4.51],
  [18.43723014, 24.58376482, 4.67], [18.79403213, -45.53209717, 4.97], [18.93956391, -68.87623708, 4.25], [19.86657455, 27.26408682, 4.74],
  [20.02049027, 58.2316161, 4.95], [20.58497087, 45.5287566, 4.87], [21.00604671, -8.18275372, 3.60], [21.40503869, -14.59875437, 4.90],
  [21.45251267, 60.23540347, 2.66], [21.48293404, 68.12994739, 4.72], [21.9128547, 45.40695287, 4.83], [22.0914236, -43.31772906, 3.41],
  [22.54559597, 6.14393314, 4.84], [22.81242306, -49.07307701, 3.93], [22.87080776, 15.34583101, 3.62], [23.48302496, 59.23209665, 4.68],
  [24.19990413, 41.40638491, 4.10], [24.42813204, -57.23666007, 0.45], [24.49792651, 48.62848641, 3.59], [25.14501739, 40.57710624, 4.96],
  [25.35794814, 5.48760445, 4.45], [25.44381547, 42.61380692, 4.96], [25.68132047, -3.69011692, 4.98], [25.9150637, 50.6887655, 4.01],
  [26.02136441, -15.93955597, 3.49], [26.34828629, 9.15764102, 4.26], [27.39662961, -10.68618074, 4.66], [27.86504416, -10.33494526, 3.74],
  [28.27041595, 29.57939727, 3.42], [28.38235506, 19.29409264, 3.88], [28.38890233, 3.18747844, 4.61], [28.41174872, -46.30244631, 4.39],
  [28.59868107, 63.67014686, 3.35], [28.65978771, 20.80829949, 2.64], [28.73339519, -67.64748114, 4.68], [28.98680207, -51.60958673, 3.69],
  [29.00001575, 68.68526545, 4.97], [29.16732782, -22.52671153, 4.92], [29.29163705, -47.38529869, 4.82], [29.48239763, 23.5960961, 4.79],
  [29.69113269, -61.56992444, 2.86], [30.0009367, -21.07777193, 3.99], [30.48979079, 70.90704605, 4.49], [30.51166929, 2.76376048, 3.82],
  [30.57530917, 54.48754946, 4.99], [30.85912643, 72.42123962, 3.95], [30.97466283, 42.32984832, 2.10], [31.12262534, -29.29683966, 4.68],
  [31.79285757, 23.46277743, 2.01], [32.12144102, 37.85918337, 4.78], [32.35535861, 25.93997268, 4.98], [32.38550383, 34.98739204, 3.00],
  [33.09301632, 30.30321507, 4.94], [33.25004577, 8.8467523, 4.36], [33.30558667, 44.23168903, 4.84], [34.12708452, -51.51211145, 3.56],
  [34.26007346, 34.22482985, 4.84], [34.32848216, 33.84732099, 4.03], [35.43759585, -68.6594239, 4.08], [36.40583743, 50.27866588, 4.73],
  [36.48755111, -12.290452, 4.88], [36.74627081, -47.70382692, 4.24], [37.03965786, 8.4600887, 4.30], [37.26661741, 67.40238385, 4.46],
  [37.94614689, 89.26413805, 1.97], [38.02198846, -15.2443199, 4.74], [38.4613017, -28.2323401, 4.96], [38.9687042, 5.59330163, 4.87],
  [39.87061789, 0.3285168, 4.08], [39.89054885, -11.87158159, 4.83], [39.8967653, -68.2669476, 4.12], [39.94966387, -42.89163328, 4.74],
  [40.16638213, -39.85530905, 4.11], [40.5622035, 40.19438688, 4.91], [40.82551897, 3.23617162, 3.47], [40.86296031, 27.70717078, 4.65],
  [41.03064356, -13.85867594, 4.24], [41.04869991, 49.22866639, 4.10], [41.23488901, 10.11421979, 4.27], [41.27492276, -18.57265077, 4.47],
  [41.38555249, -67.616724, 4.83], [41.97683942, 29.24742385, 4.52], [42.27233113, -32.40628403, 4.45], [42.49578911, 27.26079044, 3.61],
  [42.6189035, -75.06688108, 4.76], [42.64547584, 38.31890838, 4.22], [42.67413655, 55.89552955, 3.77], [42.75977464, -21.0039789, 4.76],
  [42.87846216, 35.05989415, 4.56], [43.564427, 52.76248991, 3.93], [44.10668245, -8.89760976, 3.89], [44.5654818, -40.30473491, 2.88],
  [44.69021034, 39.66282739, 4.68], [44.69902505, -64.07129717, 4.98], [44.7654574, 35.18311415, 4.94], [44.80305773, 21.34044477, 4.63],
  [44.92873469, 8.90740111, 4.71], [45.56991279, 4.08992539, 2.54], [45.59830468, -23.62433613, 4.08], [46.19912598, 53.50645031, 2.91],
  [46.29373754, 38.84053298, 3.32], [46.38510717, 56.7055481, 4.77], [47.04220716, 40.9556512, 2.09], [47.26201363, 49.61350009, 4.05],
  [47.37345463, 44.85788896, 3.79], [47.82250605, 39.61157075, 4.61], [47.90695691, 19.72669777, 4.35], [47.98432711, 74.39386878, 4.85],
  [48.01783332, -28.98910623, 3.80], [48.72547816, 21.04462873, 4.87], [48.95844499, -8.8198405, 4.80], [49.59206509, -22.51114978, 4.86],
  [49.68259978, 34.2226737, 4.85], [49.83974536, 3.36997055, 4.84], [49.87904033, -21.7579421, 3.70], [49.97177014, -43.07154929, 4.26],
  [49.99690314, 65.65232717, 4.74], [50.08485949, 29.04849835, 4.47], [50.36086309, 43.32965174, 4.96], [51.08061889, 49.86124281, 1.79],
  [51.20349011, 9.02906504, 3.61], [51.79217049, 9.7327724, 3.73], [52.01270885, 49.06293148, 4.99], [52.26722684, 59.94033461, 4.21],
  [52.34179296, 49.50901919, 4.67], [52.34244352, -62.93843436, 4.71], [52.47810837, 58.87875244, 4.55], [52.64367585, 47.99517199, 4.36],
  [52.65437447, -5.07516332, 4.74], [52.71819576, 12.93668186, 4.14], [53.23509009, -9.45830584, 3.72], [53.44686638, -21.63281597, 4.26],
  [54.12233383, 48.19270068, 4.32], [54.21882896, 0.40283316, 4.29], [54.2736588, -40.27451075, 4.57], [55.56207975, -31.93839587, 4.99],
  [55.59434812, 33.96503899, 4.97], [55.70884185, -37.31334485, 4.59], [55.7311754, 47.7876533, 3.01], [55.81231706, -9.76519868, 3.52],
  [56.04814541, -64.80709398, 3.84], [56.07969347, 32.28827325, 3.84], [56.21884811, 24.1134484, 3.72], [56.29851422, 42.57854437, 3.77],
  [56.30200876, 24.46737879, 4.30], [56.45663804, 24.36785796, 3.87], [56.50971937, 63.34506772, 4.78], [56.53542672, -12.1017353, 4.43],
  [56.58150135, 23.94846207, 4.14], [56.71245432, -23.248438, 4.22], [56.80929799, -74.23924251, 3.26], [56.87110065, 24.10524193, 2.85],
  [57.14926223, -37.62012878, 4.30], [57.29054669, 24.05352412, 3.62], [57.36367035, -36.2001125, 4.17], [57.38035594, 65.52600645, 4.39],
  [57.58948256, 71.33236777, 4.59], [58.42784574, -24.61221253, 4.64], [58.53299363, 31.88365776, 2.84], [58.57286091, -2.95473348, 4.46],
  [59.28455287, 61.10891703, 4.99], [59.3559814, 63.07224944, 4.95], [59.46342138, 40.01027315, 2.90], [59.50720862, -13.50824471, 2.97],
  [59.68640623, -61.40015059, 4.56], [59.74124892, 35.79102701, 3.98], [59.98115045, -24.01625677, 4.62], [60.17008591, 12.49037571, 3.41],
  [60.2241876, -62.15936923, 4.48], [60.32529605, -61.07905148, 4.97], [60.78907003, 5.98930909, 3.91], [61.17357446, 22.0820679, 4.36],
  [61.64606374, 50.35135022, 4.25], [62.16530527, 47.71259359, 3.96], [62.71013758, -41.99374121, 4.93], [62.96638834, -6.8377787, 4.04],
  [63.48496228, 9.26389844, 4.84], [63.5003388, -42.29387294, 3.85], [63.59872149, -10.2558889, 4.87], [63.60596306, -62.47397888, 3.33],
  [63.72212566, 40.48372394, 4.67], [63.72440722, 48.40937312, 4.12], [63.8234923, -7.64455846, 4.43], [63.88352173, 8.89240989, 4.27],
  [64.00621426, -51.48709578, 4.26], [64.12118133, -59.30174841, 4.44], [64.31535896, 20.57874033, 4.93], [64.47341068, -33.79833145, 3.55],
  [64.56073112, 50.29563944, 4.60], [64.94805793, 15.62770031, 3.65], [65.08847817, 27.35094069, 4.97], [65.10273351, 34.56674228, 4.93],
  [65.38811942, 46.4989629, 4.80], [65.73344722, 17.5425843, 3.77], [66.00902233, -34.01698632, 3.97], [66.02372401, 17.44421161, 4.80],
  [66.34207825, 22.29398098, 4.21], [66.37215593, 17.92798917, 4.30], [66.57664484, 22.81369394, 4.28], [66.58613217, 15.6183462, 4.48],
  [66.65156991, 14.71385764, 4.69], [67.10985479, 16.35962902, 4.96], [67.14346805, 15.96221721, 3.84], [67.15388879, 19.18052092, 3.53],
  [67.16531219, 15.8709468, 3.40], [67.63987124, 16.19407556, 4.78], [67.96945612, -0.04399115, 4.91], [68.3776229, -29.76583186, 4.49],
  [68.46189659, 14.84448749, 4.65], [68.49882684, -55.04500559, 3.30], [68.88779874, -30.56231049, 3.81], [68.91347315, 10.16091706, 4.25],
  [68.98000195, 16.50976164, 0.87], [69.07975243, -3.352448, 3.93], [69.17264013, 41.26485467, 4.25], [69.53917371, 12.51087423, 4.27],
  [69.54529558, -14.303587, 3.86], [69.72330721, -12.12307828, 4.99], [69.81854938, 15.9180242, 4.67], [70.11039135, -19.67125686, 4.32],
  [70.14092957, -41.86357034, 4.44], [70.56126452, 22.95697545, 4.27], [71.37558764, -3.25462465, 4.01], [72.45890935, 6.96124744, 3.19],
  [72.47777728, 37.48818131, 4.89], [72.65300943, 8.90025258, 4.35], [72.80152507, 5.60510146, 3.68], [73.13318214, 14.25077828, 4.71],
  [73.15833005, 36.70319636, 4.79], [73.2236682, -5.45275591, 4.36], [73.51254425, 66.34266029, 4.26], [73.5628985, 2.44067149, 3.71],
  [73.7237672, 10.15114511, 4.64], [74.09300449, 13.51457755, 4.06], [74.24840098, 33.16613537, 2.69], [74.32175175, 53.75208289, 4.43],
  [74.63709525, 1.71403506, 4.47], [74.81406425, 37.8904824, 4.93], [74.98213784, -12.5372045, 4.78], [75.35649111, -20.05188078, 4.91],
  [75.35977051, -7.17397802, 4.80], [75.49222507, 43.82331397, 3.03], [75.61950025, 41.07588953, 3.69], [75.77376699, 21.5900617, 4.62],
  [75.854572, 60.44228144, 4.03], [76.10129897, -35.48287057, 4.55], [76.1422432, 15.40418059, 4.65], [76.36521705, -22.37085673, 3.19],
  [76.37787652, -57.47298928, 4.71], [76.62862102, 41.23464074, 3.18], [76.66940952, 51.59814314, 4.98], [76.86115023, 18.64500711, 4.91],
  [76.96264146, -5.08626282, 2.78], [77.28659571, -8.75407607, 4.25], [77.42483084, 15.59727157, 4.81], [78.07453075, -11.86914287, 4.45],
  [78.2328046, -16.20542901, 3.29], [78.30785422, -12.94128833, 4.36], [78.32283171, 2.86125346, 4.46], [78.35721486, 38.48467394, 4.82],
  [78.43927858, -67.18534976, 4.81], [78.63446353, -8.20163919, 0.18], [79.17206517, 45.99902927, 0.08], [79.37093064, -34.89438961, 4.81],
  [79.40166225, -6.84438616, 3.59], [79.54395049, 33.37200411, 4.54], [79.78365993, 40.10066732, 4.69], [79.81912416, 22.09669104, 4.96],
  [79.89385817, -13.17677698, 4.29], [80.11213225, -21.23973932, 4.70], [80.4406153, -0.38246922, 4.72], [80.7083388, 3.54444809, 4.99],
  [80.98681839, -7.80795569, 4.13], [81.11923774, -2.39713844, 3.35], [81.18677704, 1.84644611, 4.89], [81.28278416, 6.34973451, 1.64],
  [81.57290804, 28.60787346, 1.65], [81.70928405, 3.09567718, 4.59], [81.9086835, 21.93698219, 4.88], [82.06135971, -20.75923214, 2.81],
  [82.43325647, -1.09217557, 4.71], [82.69603301, 5.94821792, 4.20], [82.8030645, -35.47043592, 3.86], [82.98275119, -7.30152625, 4.62],
  [83.00166562, -0.2990934, 2.25], [83.0531302, 18.59424525, 4.32], [83.18197584, 32.1920314, 4.71], [83.18255798, -17.82229227, 2.58],
  [83.40631813, -62.48985585, 3.76], [83.70515764, 9.48958528, 4.39], [83.76117163, -6.00202867, 4.78], [83.78449043, 9.93416294, 3.39],
  [83.81592896, -5.38731536, 4.98], [83.84541591, -5.41606331, 4.98], [83.84650694, -4.83834045, 4.58], [83.85825475, -5.90989984, 2.75],
  [84.05338572, -1.20191725, 1.69], [84.22637775, 9.291412, 4.09], [84.41118447, 21.14259299, 2.97], [84.68652211, -2.60006791, 3.77],
  [84.72121589, -7.21270844, 4.77], [84.79644123, 4.12146667, 4.50], [84.91224975, -34.07404941, 2.65], [85.18968672, -1.94257841, 1.74],
  [85.21131577, -1.12878569, 4.95], [85.32381426, 16.53418318, 4.84], [85.61943491, 1.47466498, 4.90], [86.11656241, -22.44748663, 3.59],
  [86.19341279, -65.7355408, 4.34], [86.73895728, -14.82194717, 3.55], [86.82118054, -51.06671329, 3.85], [86.93911641, -9.66960186, 2.07],
  [87.25399777, 24.56755473, 4.88], [87.29358126, 39.18113322, 4.51], [87.38726446, 12.65136584, 4.89], [87.45656999, -56.1664886, 4.50],
  [87.7398034, -35.76929225, 3.12], [87.7600428, 37.30568175, 4.72], [87.82980343, -20.87751376, 3.76], [87.87246934, 39.14847936, 3.97],
  [88.11017813, 1.8551579, 4.76], [88.2786848, -33.8014395, 4.88], [88.33184814, 27.61228536, 4.56], [88.52458376, -63.09102096, 4.65],
  [88.59618305, 20.27641498, 4.39], [88.71160776, 55.7069049, 4.96], [88.79287161, 7.40703634, 0.45], [88.87454313, -37.12060931, 4.97],
  [89.10132627, -14.16803805, 3.71], [89.38421613, -35.28330688, 4.36], [89.49857371, 25.95391597, 4.81], [89.78662719, -42.81510761, 3.96],
  [89.88145972, 54.28498197, 3.72], [89.88237261, 44.94743492, 1.90], [89.93015897, 37.21276409, 2.65], [89.98375587, 45.93675346, 4.30],
  [90.01393918, -3.07407681, 4.53], [90.46010757, -10.59793918, 4.92], [90.59579323, 9.64736756, 4.12], [90.9799315, 20.13845865, 4.64],
  [91.0300689, 23.26363207, 4.16], [91.24638576, -16.48442713, 4.92], [91.53889172, -14.93528629, 4.67], [91.89300774, 14.76852318, 4.42],
  [92.574638, -54.96866057, 4.72], [92.98498656, 14.20881425, 4.45], [93.01365054, 16.13044684, 4.95], [93.71390194, -6.27472737, 3.99],
  [93.71956952, 22.50682376, 3.31], [93.84473576, 29.49871224, 4.32], [94.13806399, -35.14073157, 4.37], [94.71158258, 69.3200343, 4.76],
  [94.90579498, 59.01090518, 4.44], [94.9983516, -2.94449028, 4.91], [95.07827982, -30.06337656, 3.02], [95.52852147, -33.43627251, 3.85],
  [95.6749475, -17.95591658, 1.98], [95.73996302, 22.51385027, 2.87], [95.94207368, 4.59283881, 4.39], [95.98787763, -52.69571799, -0.62],
  [96.22459158, 49.28789903, 4.92], [97.04257272, -32.58012947, 4.47], [97.20447548, -7.03305042, 3.76], [97.24079361, 20.2121672, 4.13],
  [97.96403433, -23.41843727, 4.34], [98.22595658, 7.33297921, 4.47], [98.74411397, -52.97563454, 4.35], [98.76408302, -22.96483318, 4.54],
  [99.17082883, -19.25570928, 3.95], [99.42792641, 16.39941482, 1.93], [99.44029869, -43.19592394, 3.17], [99.47260802, -18.23745713, 4.42],
  [99.81965168, -14.14574673, 4.82], [99.83261264, 42.48901214, 4.80], [100.244421, 9.89576021, 4.66], [100.9830409, 25.13115531, 3.06],
  [100.9970586, 13.22814319, 4.49], [101.2885411, -16.71314306, -1.44], [101.3226398, 12.89605513, 3.35], [101.5589695, 59.44169108, 4.86],
  [101.8326847, 8.03728277, 4.77], [101.9652368, 2.41218914, 4.48], [102.0480713, -61.94197988, 3.24], [102.4602729, -32.50848752, 3.50],
  [102.4638171, -53.62249221, 4.41], [102.4839035, -50.61439973, 2.94], [102.6915132, 41.78156548, 4.99], [102.7181221, -34.36732059, 4.99],
  [103.1972503, 33.96136985, 3.60], [103.3871273, -20.22426366, 4.82], [103.5331452, -24.18422296, 3.89], [103.5478363, -12.03859273, 4.08],
  [103.6608077, 13.17801628, 4.73], [103.905829, -20.13659348, 4.66], [104.0342764, -17.05424675, 4.36], [104.0666214, -48.72116448, 4.94],
  [104.3191605, 58.42305973, 4.35], [104.4046874, 45.09410202, 4.90], [104.6564445, -28.97208931, 1.50], [105.0160332, 76.97744152, 4.55],
  [105.4297988, -27.93484165, 3.49], [105.728248, -4.23923814, 4.99], [105.7561399, -23.83330131, 3.02], [105.9395549, -15.63325876, 4.11],
  [105.9735665, -49.58425759, 4.92], [106.0272308, 20.57029939, 4.01], [107.0978585, -26.39320776, 1.83], [107.1867688, -70.49919435, 3.78],
  [107.2128182, -39.65567374, 4.83], [107.5570079, -4.23763568, 4.91], [107.7849651, 30.24528065, 4.41], [107.9137185, 39.32054373, 4.91],
  [107.9660849, -0.49278056, 4.15], [108.1405872, -46.75956448, 4.49], [108.3057129, -45.18252474, 4.87], [108.3842954, -44.64052957, 4.42],
  [108.5634018, -26.35251617, 4.42], [108.6589353, -48.27192832, 4.75], [108.7027568, -26.77268601, 4.01], [109.1458393, -27.88127313, 4.66],
  [109.153487, -23.31560155, 4.83], [109.2076284, -67.95717248, 3.97], [109.285684, -37.09748689, 2.71], [109.5233616, 16.54047526, 3.58],
  [109.5766704, -36.7339666, 4.65], [109.6682534, -24.55870761, 4.88], [109.6770328, -24.95438447, 4.37], [110.0307889, 21.98233941, 3.50],
  [110.5563752, -19.01658444, 4.94], [111.023771, -29.30311979, 2.45], [111.412078, 9.27611835, 4.99], [111.4319837, 27.79828561, 3.78],
  [111.6785873, 49.21164489, 4.61], [111.7878012, 8.28940893, 2.89], [112.0409561, 8.92550376, 4.33], [112.2775405, 31.78407932, 4.16],
  [112.3078263, -43.30189129, 3.25], [112.4490921, 12.00661101, 4.55], [112.4642256, -23.02429924, 4.85], [112.677542, -30.96228313, 4.65],
  [112.7686676, 82.41156871, 4.92], [113.4498661, -14.52390109, 4.82], [113.5133581, -22.29618077, 4.44], [113.650019, 31.88863645, 1.58],
  [113.8455718, -28.36927798, 4.65], [113.9154175, -52.53380809, 4.93], [113.9807178, 26.89600343, 4.06], [114.3421666, -34.96857044, 4.53],
  [114.5751975, -25.36478805, 4.69], [114.7078387, -26.8038924, 3.80], [114.791485, 34.58463287, 4.89], [114.8272419, 5.22750767, 0.40],
  [114.8639749, -38.3080602, 4.84], [115.0967169, -15.26385208, 4.98], [115.3119861, -9.55108315, 3.94], [115.4549835, -72.60613528, 3.93],
  [115.751907, 58.71048707, 4.93], [115.8278555, 28.8840717, 4.23], [115.8849819, -28.41095714, 4.63], [115.9519672, -28.9548352, 3.94],
  [116.1119524, 24.39812929, 3.57], [116.3137663, -37.96859848, 3.62], [116.3306826, 28.02631031, 1.16], [116.5312238, 18.51016877, 4.89],
  [117.0215621, -25.93718054, 4.40], [117.0843653, -47.07753199, 4.69], [117.3095792, -46.37322729, 4.10], [117.3235781, -24.85978401, 3.34],
  [118.0543562, -40.57579889, 3.71], [118.1610554, -38.86282206, 4.49], [118.2651766, -49.61307949, 4.63], [118.3256786, -48.10294824, 4.22],
  [118.3743187, 26.76585858, 4.97], [119.1947573, -52.98240062, 3.46], [119.2148262, -22.88014849, 4.20], [119.4171324, -30.33458703, 4.76],
  [119.560183, -49.24492865, 4.47], [119.934103, -3.67957835, 4.93], [119.9668965, -18.39914242, 4.61], [120.0832051, -63.56750271, 4.81],
  [120.3054016, -1.39242418, 4.69], [120.566472, 2.33431429, 4.39], [120.8795798, 27.79441794, 4.94], [120.8961256, -40.00318846, 2.21],
  [121.886259, -24.30443677, 2.83], [121.98267, -68.61713647, 4.35], [122.114598, 51.50667575, 4.78], [122.1485736, -2.98377649, 4.36],
  [122.2535766, -61.3017058, 4.74], [122.2568477, -19.24500094, 4.40], [122.3831473, -47.33661177, 1.75], [122.8180055, -12.92701835, 4.72],
  [122.8395844, -39.61855304, 4.44], [122.8579034, -42.98728888, 4.73], [123.0529535, 17.64813756, 4.67], [123.3332293, -15.78821451, 4.99],
  [123.3730102, -35.89954225, 4.78], [123.5120297, -40.34773028, 4.42], [124.128951, 9.18566295, 3.53], [124.6302785, -76.91998251, 4.05],
  [124.6391383, -36.65953286, 4.44], [125.162033, -77.4845764, 4.34], [125.3459765, -33.05437199, 4.83], [125.628603, -59.50953829, 1.86],
  [125.6320777, -48.49039742, 4.79], [125.7088754, 43.18837233, 4.25], [126.4152955, -3.90636482, 3.91], [126.4343594, -66.13652042, 3.77],
  [127.5667923, 60.7184311, 3.35], [128.8318677, -58.0092947, 4.84], [129.4110057, -42.98910371, 4.11], [129.4141974, 5.70379868, 4.14],
  [129.6893699, 3.34147477, 4.45], [129.9270448, -29.56086189, 4.86], [130.0063307, -12.47537441, 4.98], [130.0255689, -35.30830091, 3.97],
  [130.0537443, 64.32787175, 4.59], [130.0733717, -52.92197259, 3.60], [130.1543132, -59.76101468, 4.31], [130.1565637, -46.64875492, 3.77],
  [130.3047503, -47.31714129, 4.74], [130.4305582, -15.94314865, 4.87], [130.6058767, -53.11404062, 4.83], [130.8061932, 3.39866539, 4.30],
  [130.8217213, 21.46859609, 4.66], [130.8981145, -33.18641133, 3.68], [130.9182513, -7.23372781, 4.63], [131.0998583, -42.64932331, 4.05],
  [131.1712921, 18.15486399, 3.94], [131.1758221, -54.70856797, 1.93], [131.5068946, -46.0415392, 3.87], [131.5938644, -13.54770494, 4.32],
  [131.6743096, 28.76000509, 4.03], [131.67733, -56.76979718, 4.50], [131.6943593, 6.41890691, 3.38], [132.1082535, 5.83788486, 4.35],
  [132.4485347, -45.30790977, 4.94], [132.6333805, -27.71005869, 4.02], [133.7619236, -60.64471195, 3.84], [133.8486869, 5.9455277, 3.11],
  [133.8813149, -27.68162589, 4.87], [134.0803251, -52.72351071, 4.68], [134.2434461, -59.22935883, 4.93], [134.6216541, 11.85777198, 4.26],
  [134.8034948, 48.04234956, 3.12], [135.0226672, -41.25373789, 4.45], [135.1614677, 41.78344401, 3.96], [135.6116618, -66.39584369, 4.00],
  [135.6363579, 67.62957486, 4.74], [135.9064949, 47.15665934, 3.57], [136.0388356, -47.09771376, 3.75], [136.286793, -72.60269387, 4.47],
  [136.4099252, -70.53852074, 4.66], [136.493241, 5.09234249, 4.99], [136.6324502, 38.45225024, 4.56], [136.9990713, -43.43262406, 2.23],
  [137.0119052, -25.85853691, 4.62], [137.2182737, 51.60472728, 4.46], [137.5980257, 67.13423886, 4.80], [137.7288799, 63.51378087, 4.67],
  [137.7421054, -58.96693014, 3.43], [137.7683442, -44.86791223, 4.99], [137.8198661, -62.31701587, 3.96], [138.3010033, -69.71747245, 1.67],
  [138.5908053, 2.31502422, 3.89], [138.9031739, -38.56991789, 4.92], [138.9377894, -37.41312644, 4.63], [139.0469952, 54.02171207, 4.80],
  [139.0504268, -57.54143764, 4.34], [139.2726183, -59.27526115, 2.21], [139.7111139, 36.80289763, 3.82], [139.9433282, -11.97488214, 4.77],
  [140.1209416, -9.55562948, 4.80], [140.236793, -62.40463293, 4.79], [140.2644117, 34.39252592, 3.14], [140.3733284, -25.96541642, 4.71],
  [140.5284551, -55.01069531, 2.47], [140.8014014, -28.83392305, 4.71], [141.163664, 26.18244091, 4.47], [141.826239, -22.3434176, 4.72],
  [141.8968826, -8.65868335, 1.99], [142.2868282, -2.76895627, 4.59], [142.3114062, -35.9513478, 4.51], [142.6754706, -40.46688763, 3.60],
  [142.8056407, -57.0343916, 3.16], [142.8815403, 63.06179545, 3.65], [142.9301682, 22.96806545, 4.32], [142.9866346, 11.3000307, 4.99],
  [142.9955615, -1.18465438, 4.54], [143.2180219, 51.67860208, 3.17], [143.5557374, 36.39761338, 4.54], [143.611096, -59.22976797, 4.08],
  [143.6206994, 69.83015419, 4.54], [143.7062288, 52.05156754, 4.47], [143.766052, 39.62144313, 4.81], [144.2069042, -49.3551286, 4.34],
  [144.2722997, 81.32642085, 4.28], [144.6141046, 4.64941422, 4.68], [144.8376706, -61.32810523, 4.51], [144.9638916, -1.14265722, 3.90],
  [145.2879912, 9.89239902, 3.52], [145.3209415, -23.59152139, 4.76], [145.5611314, -23.91620867, 4.93], [146.0505426, -27.76956287, 4.78],
  [146.3117815, -62.50792328, 3.69], [146.4629267, 23.77427792, 2.97], [146.7755734, -65.07201888, 2.92], [147.7487154, 59.03910437, 3.78],
  [147.8695103, -14.84654997, 4.11], [147.9195349, -46.54764424, 4.58], [148.0265007, 54.06428574, 4.55], [148.1914903, 26.00708498, 3.88],
  [148.5518273, -25.93248205, 4.87], [148.7176546, -19.00926985, 4.94], [149.2156452, -54.5677973, 3.52], [150.0534347, 8.04427686, 4.68],
  [151.2812186, -13.06467435, 4.60], [151.8331395, 16.76266572, 3.48], [151.8571881, 35.24469176, 4.49], [151.9763285, 9.99766389, 4.39],
  [151.9845649, -0.37162786, 4.48], [152.0935808, 11.96719513, 1.36], [152.2343903, -51.81126187, 4.85], [152.6474879, -12.35383921, 3.61],
  [153.4344955, -70.03792169, 3.29], [153.684474, -42.12206281, 3.85], [154.1725181, 23.4173284, 3.43], [154.2708554, -61.33231977, 3.39],
  [154.2746956, 42.91446855, 3.45], [154.9031883, -55.02931452, 4.59], [154.934626, 19.47143591, 4.78], [154.9923405, 19.84186032, 2.01],
  [155.2283958, -56.04322401, 4.50], [155.5816918, -41.65010791, 4.82], [155.5825136, 41.4994335, 3.06], [155.7424136, -66.90152522, 4.97],
  [156.0327452, 65.56647366, 4.94], [156.0989187, -74.03154474, 3.99], [156.478613, 33.79626364, 4.72], [156.5229377, -16.83609584, 3.83],
  [156.7881495, -31.06780228, 4.28], [156.8519928, -57.63881373, 4.65], [156.9697711, -58.73940856, 3.81], [156.9712187, 36.70747818, 4.20],
  [157.5836462, -71.99271995, 4.72], [157.6573514, 55.98061759, 4.82], [157.758644, -73.2215089, 4.94], [157.8426451, -53.7159928, 4.89],
  [158.0061825, -61.68536031, 3.30], [158.2028131, 9.30659431, 3.84], [158.3083217, 40.42554046, 4.72], [158.773285, 75.71298403, 4.86],
  [158.8675767, -78.60781379, 4.11], [158.8971442, -57.55763551, 4.45], [159.3074949, -27.41268661, 4.87], [159.3260698, -48.22561631, 3.84],
  [159.3885311, -13.38445095, 4.89], [159.6458878, -16.87663687, 4.91], [159.6800527, 31.97622008, 4.68], [159.6875522, -59.18299905, 4.69],
  [159.8267189, -55.60327905, 4.29], [160.5589334, -64.4664538, 4.76], [160.739278, -64.39447937, 2.74], [160.8846154, -60.56662705, 4.58],
  [161.0289048, -63.9611007, 4.80], [161.446399, -80.54020283, 4.45], [161.6921754, -49.42012517, 2.69], [161.7135174, -64.38349702, 4.87],
  [162.405967, -16.19413208, 3.11], [163.3276661, 34.21556641, 3.79], [163.3731926, -58.85326474, 3.78], [163.4946083, 43.19001538, 4.66],
  [163.9035334, 24.74975451, 4.30], [164.1791513, -37.1374629, 4.60], [164.9447866, -18.29909723, 4.08], [165.0385243, -42.22586959, 4.37],
  [165.1401644, 3.61753351, 4.84], [165.1868014, 6.10150342, 4.98], [165.4569537, -2.48449705, 4.73], [165.4599615, 56.38234478, 2.34],
  [165.5824216, 20.17974575, 4.42], [165.9326537, 61.75111888, 1.81], [166.2551246, 7.33612254, 4.62], [166.3334693, -27.29359566, 4.92],
  [166.6353096, -62.42413654, 4.62], [167.1474818, -58.97504198, 3.93], [167.4160809, 44.49855337, 3.00], [167.9145262, -22.82560642, 4.46],
  [168.1500845, -60.3176307, 4.59], [168.5267171, 20.52403384, 2.56], [168.5601704, 15.4297631, 3.33], [168.8010129, 23.09552528, 4.56],
  [169.1656837, -3.65151412, 4.45], [169.5468333, 31.53077778, 3.79], [169.6198139, 33.09423881, 3.49], [169.7830976, 38.18572227, 4.76],
  [169.835511, -14.77904358, 3.56], [170.2518427, -54.49101395, 3.90], [170.2843673, 6.02935289, 4.05], [170.7067242, 43.48273665, 4.99],
  [170.9807033, 10.52969772, 4.00], [171.1525225, -10.85938276, 4.81], [171.2207634, -17.68401748, 4.06], [171.9842912, 2.85629071, 4.95],
  [172.5786742, -3.00345887, 4.77], [172.851202, 69.33112161, 3.82], [173.0684061, -29.26137351, 4.93], [173.2510794, -31.85752405, 3.54],
  [173.6904664, -54.26413167, 4.62], [173.9455345, -63.01982488, 3.11], [174.1706188, -9.80225368, 4.70], [174.2372077, -0.82385424, 4.30],
  [175.0534184, -34.7446553, 4.70], [175.2235527, -62.09010401, 4.93], [176.1906623, -18.35061467, 4.71], [176.3208533, 8.25817475, 4.84],
  [176.4023639, -66.72884344, 3.63], [176.4648773, 6.52981394, 4.04], [176.5130589, 47.77933701, 3.69], [176.6285375, -61.17835907, 4.11],
  [176.6343626, -40.50133452, 4.89], [176.9967765, 20.21894121, 4.50], [177.0603726, -66.81487085, 4.75], [177.2661598, 14.57233687, 2.14],
  [177.4212002, -63.78848906, 4.30], [177.4859461, -70.2257858, 4.98], [177.6720255, 1.76537705, 3.59], [177.7864651, -45.1734495, 4.47],
  [177.963637, -65.20589445, 4.89], [178.2273387, -33.90813014, 4.29], [178.4572554, 53.69473296, 2.41], [179.9070471, -78.22181833, 4.88],
  [180.2182929, 6.61439464, 4.65], [180.7570797, -63.31294495, 4.32], [181.0801573, -63.16571094, 4.72], [181.30279, 8.73284563, 4.12],
  [181.7202202, -64.61363898, 4.14], [182.0219013, -50.66125439, 4.46], [182.0897651, -50.72240999, 2.58], [182.1031361, -24.72877993, 4.02],
  [182.5313577, -22.61979211, 3.02], [182.9131309, -52.36841559, 3.97], [183.7864873, -58.74890179, 2.79], [183.856038, 57.03259792, 3.32],
  [183.9519494, -17.5419837, 2.58], [184.0856467, 23.94542332, 4.93], [184.1257284, 33.06179861, 4.99], [184.394318, -67.96067161, 4.06],
  [184.5872663, -79.31226899, 4.24], [184.609553, -64.00304555, 4.06], [184.976631, -0.66674709, 3.89], [185.0881357, 3.31272688, 4.97],
  [185.1795548, 17.79265307, 4.72], [185.3408804, -60.40136988, 3.59], [185.6263298, 25.84618178, 4.78], [186.0061763, 51.56222925, 4.76],
  [186.6003073, 27.26826273, 4.92], [186.6324508, -51.4506115, 4.82], [186.6497559, -63.09905586, 0.77], [186.7346983, 28.26861975, 4.35],
  [186.7471003, 26.8257216, 4.98], [187.0100483, -50.2306048, 3.91], [187.4665965, -16.51509397, 2.94], [187.791372, -57.11256922, 1.59],
  [188.0186865, -16.19586556, 4.30], [188.117129, -72.1329759, 3.84], [188.3710104, 69.78820992, 3.85], [188.4378856, 41.35676779, 4.24],
  [188.5968086, -23.39662306, 2.65], [188.6836052, 70.02177318, 4.95], [188.7129908, 22.62918961, 4.80], [189.2961821, -69.13553358, 2.69],
  [189.4263659, -48.54128816, 3.85], [189.8117186, -7.99550439, 4.66], [189.969006, -39.98724188, 4.63], [190.3800208, -48.95988553, 2.20],
  [190.4166756, -1.44952231, 2.74], [190.4708648, 10.23584294, 4.88], [190.48582, -59.68581085, 4.91], [190.6481714, -48.81303493, 4.66],
  [191.4079843, -60.98116057, 4.69], [191.5702901, -68.10809405, 3.04], [191.5947896, -56.48877967, 4.62], [191.9304954, -59.68873246, 1.25],
  [192.6716124, -33.99926779, 4.90], [192.9246993, 27.54073393, 4.93], [193.2790691, -48.94325313, 4.33], [193.3240451, 21.24502058, 4.89],
  [193.3589416, -40.17881857, 4.25], [193.5068041, 55.95984301, 1.76], [193.5882255, -9.53894647, 4.77], [193.6485734, -57.17789116, 4.03],
  [193.6634168, -59.14666538, 4.62], [193.9020137, 3.39759862, 3.39], [194.0076705, 38.31824617, 2.89], [194.7311079, 17.40936063, 4.76],
  [195.0686894, 30.78503676, 4.88], [195.1816073, 56.36633134, 4.93], [195.5448356, 10.95910186, 2.85], [195.5657397, -71.54879865, 3.61],
  [195.8889497, -49.52723627, 4.83], [196.5697099, -48.46325358, 4.71], [196.7277627, -49.90621586, 4.27], [196.7946161, 27.62490672, 4.80],
  [197.2636792, -23.11797275, 4.94], [197.4875502, -5.53892987, 4.38], [197.4981226, 17.52911621, 4.32], [197.9705112, 27.87603769, 4.23],
  [198.014445, -37.80313606, 4.85], [198.0734554, -59.92053651, 4.58], [198.4290895, 40.15284766, 4.94], [198.5642837, -59.10285946, 4.90],
  [198.8124908, -67.8945633, 4.79], [199.3043125, -66.78342263, 4.86], [199.385988, 40.57256275, 4.72], [199.4011954, 5.46984502, 4.78],
  [199.60405, -18.30861062, 4.74], [199.7302224, -23.17141246, 2.99], [200.1502732, -36.71208109, 2.75], [200.658249, -60.98835608, 4.52],
  [200.980916, 54.92541525, 2.23], [201.0018474, -64.53561699, 4.52], [201.2983523, -11.16124491, 0.98], [201.3058983, 54.98799884, 3.99],
  [201.863492, -15.97363075, 4.76], [202.1081267, 13.78018777, 4.97], [202.7611186, -39.40727983, 3.90], [202.9914418, -6.25571065, 4.68],
  [203.5329387, 3.65902506, 4.92], [203.6140561, 49.01590606, 4.68], [203.673978, -0.59593821, 3.38], [203.6989429, 37.18243871, 4.91],
  [204.3654038, 36.29484073, 4.82], [204.9719696, -53.46636269, 2.29], [205.1845521, 54.68166149, 4.63], [205.4367283, -54.55936543, 4.99],
  [206.4231943, -33.04336606, 4.23], [206.6640352, -51.43269771, 4.64], [206.8168194, 17.45677436, 4.50], [206.8856088, 49.31330288, 1.85],
  [207.3614636, -34.45063035, 4.19], [207.3695744, 15.79780583, 4.05], [207.3762392, -41.68765971, 3.41], [207.4041993, -42.47368506, 3.47],
  [207.4284164, 21.26406422, 4.92], [207.468102, -18.13407618, 4.96], [207.8580733, 64.72328281, 4.58], [207.9478731, 34.44431774, 4.76],
  [207.9567718, -32.99401625, 4.32], [208.3022846, -31.92758624, 4.75], [208.6713175, 18.39858742, 2.68], [208.8851454, -47.28826634, 2.55],
  [209.4122368, -63.68661603, 4.71], [209.5678528, -42.10070526, 3.83], [209.6698807, -44.8035314, 3.87], [210.4115965, 1.54458338, 4.23],
  [210.4312165, -45.60336989, 4.34], [210.956019, -60.3729784, 0.61], [211.0976084, 64.37580873, 3.67], [211.5116084, -41.17958035, 4.36],
  [211.5927873, -26.68201883, 3.25], [211.6721861, -36.36869575, 2.06], [212.2125376, 77.54743312, 4.80], [212.478986, -53.43872584, 4.74],
  [212.5997852, 25.09182293, 4.82], [212.7103479, -16.30200362, 4.93], [213.06596, 2.40949613, 4.99], [213.2239209, -10.274044, 4.18],
  [213.3706246, 51.78999066, 4.53], [213.918114, 19.18726997, -0.05], [214.0036872, -5.99952622, 4.07], [214.0419563, 51.36701398, 4.75],
  [214.0965682, 46.08791894, 4.18], [214.4992337, 35.50947085, 4.80], [214.5582105, -81.00760147, 4.89], [214.7775077, -13.37116634, 4.52],
  [214.8509697, -46.05808391, 3.55], [214.9388368, 16.30680118, 4.84], [215.0814698, -56.38647906, 4.30], [215.1394971, -37.88526711, 4.05],
  [215.1772957, -45.1868814, 4.78], [215.6546749, -58.45915834, 4.76], [215.7594054, -39.51176599, 4.41], [215.7746157, -27.75373395, 4.78],
  [215.8447503, 8.44664037, 4.86], [216.3000806, 51.85171354, 4.04], [216.5343127, -45.22138996, 4.56], [216.5450065, -45.37926095, 4.33],
  [216.7322531, -83.66785308, 4.31], [216.8813438, 75.69593921, 4.25], [217.0435139, -29.49157976, 4.97], [217.0509181, -2.22795009, 4.81],
  [217.957741, 30.37114497, 3.57], [218.0198242, 38.30788348, 3.04], [218.1545145, -50.45712132, 4.44], [218.6695438, 29.74480735, 4.47],
  [218.8768816, -42.15774562, 2.33], [219.4718797, -49.42575765, 4.05], [219.9141283, -60.83947139, 1.35], [219.9204103, -60.83514707, -0.01],
  [220.181504, 16.4183013, 4.49], [220.2871682, 13.72833113, 3.78], [220.4114855, 8.16175611, 4.86], [220.482391, -47.38814127, 2.30],
  [220.4900532, -37.79342394, 4.01], [220.6278543, -64.97456957, 3.18], [220.7648428, -5.6574291, 3.87], [220.8557162, 26.52789077, 4.80],
  [220.9145146, -35.17322549, 4.06], [221.2466463, -35.19182069, 4.92], [221.2468787, 27.07417383, 2.35], [221.3104051, 16.96440296, 4.60],
  [221.5624659, 1.8929383, 3.73], [221.9655257, -79.04471242, 3.83], [222.5727779, -27.96021925, 4.42], [222.6766475, 74.15547596, 2.07],
  [222.7199054, -16.04161047, 2.75], [222.7542505, -2.29884995, 4.93], [222.8470176, 19.10063329, 4.54], [222.9096805, -43.57529383, 4.32],
  [224.29607, -4.34608634, 4.47], [224.3963298, 65.93238126, 4.63], [224.6331419, -43.13386699, 2.68], [224.7904125, -42.10414199, 3.13],
  [225.2432819, -8.51893488, 4.91], [225.486638, 40.39063671, 3.49], [225.5271339, 25.00825646, 4.80], [225.7252916, 2.09127129, 4.39],
  [225.9486742, 47.65401409, 4.83], [226.0177579, -25.28185602, 3.25], [226.1119046, 26.94765981, 4.52], [226.279607, -47.05119386, 3.91],
  [226.8247795, 24.86959294, 4.93], [227.2109565, -45.27979406, 4.07], [227.9840043, -48.73770212, 3.88], [228.0554674, -19.79163143, 4.54],
  [228.0716798, -52.09907465, 3.41], [228.2066864, -44.50035965, 4.83], [228.6555245, -31.51912564, 4.91], [228.8754324, 33.31510222, 3.46],
  [229.2519659, -9.38286694, 2.61], [229.3790009, -58.80087882, 4.07], [229.4120326, -63.61048662, 4.85], [229.457687, -30.14866233, 4.35],
  [229.6335359, -47.87519201, 4.27], [229.7278701, -68.67946723, 2.87], [230.1822884, 71.83397308, 3.00], [230.3430683, -40.64745946, 3.22],
  [230.4518186, -36.26116729, 3.57], [230.5349753, -47.92746963, 4.99], [230.6703647, -44.68957314, 3.37], [230.7890137, -36.85843627, 4.54],
  [230.8009428, 30.28824114, 4.99], [230.8444073, -59.32069839, 4.48], [231.0497089, -10.32189476, 4.92], [231.1230676, 37.37696091, 4.31],
  [231.2324337, 58.96602354, 3.29], [231.3343852, -38.7335881, 4.60], [231.9577163, 29.10549164, 3.66], [232.9458014, 40.89936876, 4.98],
  [233.2324831, 31.35915517, 4.14], [233.5438322, -10.06395962, 4.61], [233.6716229, 26.71491041, 2.22], [233.7007926, 10.53885916, 3.80],
  [233.7852516, -41.16669497, 2.80], [233.881414, -14.78955365, 3.91], [233.9719375, -44.95833688, 4.55], [234.1799454, -66.31690469, 4.11],
  [234.2560775, -28.13507099, 3.60], [234.5138429, -42.56748493, 4.34], [234.6641015, -29.77768935, 3.66], [234.8445158, 36.63582763, 4.64],
  [234.9415619, -34.41189273, 4.66], [235.0704389, -23.81805841, 4.97], [235.2979823, -44.66055926, 4.64], [235.3878846, 19.67050566, 4.51],
  [235.4867445, -19.67857446, 4.75], [235.6709881, -34.71033325, 4.75], [235.6859927, 26.29551419, 3.81], [236.0144331, 77.79449901, 4.29],
  [236.0666491, 6.42551971, 2.63], [236.5467288, 15.42192602, 3.65], [236.6114412, 7.35323973, 4.42], [237.1850359, 18.1417793, 4.09],
  [237.3987418, 26.06854936, 4.59], [237.4052738, -3.43014112, 3.54], [237.7037134, 4.4775798, 3.71], [237.7397573, -33.62710488, 3.97],
  [237.7448068, -25.75123489, 4.63], [237.8080723, 35.65822638, 4.79], [237.8164298, 20.97787548, 4.74], [238.1674768, 42.44998796, 4.60],
  [238.403035, -25.32708018, 4.59], [238.4561544, -16.7296223, 4.13], [238.7867001, -63.42974973, 2.83], [239.112476, 15.66473327, 3.85],
  [239.2211944, -29.21401221, 3.87], [239.3970912, 26.87802632, 4.14], [239.4483039, 54.74950359, 4.96], [239.5474012, -14.27931773, 4.95],
  [239.7130028, -26.1140428, 2.89], [239.8762327, -41.74439602, 4.99], [240.0305854, -38.39664079, 3.42], [240.0833823, -22.62162024, 2.29],
  [240.3607943, 29.85107821, 4.98], [240.4737656, 58.56443739, 4.01], [240.5737045, 22.80439543, 4.82], [240.6993795, 46.03685378, 4.72],
  [240.8035842, -49.22972074, 4.65], [240.8361124, -25.86514891, 4.96], [240.850844, -38.60247122, 4.90], [240.8842544, -57.77487351, 4.63],
  [241.090125, -11.37355556, 4.16], [241.3593121, -19.80539286, 2.56], [241.3607302, -19.80184191, 4.90], [241.6225984, -45.17327517, 4.73],
  [241.6481513, -36.80221297, 4.22], [241.701802, -20.66913479, 3.93], [241.8512506, -20.8686541, 4.31], [242.1924972, 44.93481883, 4.23],
  [242.2430357, 36.49010935, 4.73], [242.9989188, -19.46064684, 4.00], [243.0000065, -10.06418514, 4.93], [243.0758822, -27.92631564, 4.58],
  [243.3697263, -54.63041289, 4.95], [243.586526, -3.69397562, 2.73], [243.8594423, -63.68564897, 3.86], [244.253898, -50.06811224, 4.97],
  [244.3770877, 75.75470385, 4.95], [244.5746702, -28.61377598, 4.80], [244.5801699, -4.69260809, 3.23], [244.9351996, 46.31327084, 3.91],
  [244.9606983, -50.15537923, 4.01], [245.0868128, -78.69565609, 4.68], [245.1590976, -24.16928427, 4.55], [245.2971772, -25.59275259, 2.90],
  [245.480182, 19.15302185, 3.74], [245.5185001, 1.02892219, 4.82], [245.5245422, 30.89173424, 4.86], [245.9979452, 61.51407536, 2.73],
  [246.025822, -20.03721137, 4.48], [246.3538732, 14.03341514, 4.57], [246.3963381, -23.44711764, 4.57], [246.7559929, -18.45619698, 4.22],
  [246.7960326, -47.5547359, 4.46], [246.9509456, -8.37170055, 4.62], [246.9960549, 68.76805491, 4.94], [247.1158385, -70.08467012, 4.90],
  [247.1605205, 41.88169065, 4.83], [247.351948, -26.43194608, 1.06], [247.5519913, -25.11515935, 4.79], [247.555257, 21.4896485, 2.78],
  [247.7285051, 1.98410056, 3.82], [247.7849789, -16.61264015, 4.29], [247.8455896, -34.70432087, 4.24], [248.0341108, -21.46647783, 4.45],
  [248.1516594, 11.48823391, 4.84], [248.3644341, -78.89695917, 3.86], [248.5209177, -44.04530868, 4.86], [248.5257886, 42.43689565, 4.20],
  [248.9706642, -28.21596156, 2.82], [249.0935872, -35.25535553, 4.18], [249.2897085, -10.5671518, 2.54], [249.6870334, 48.92827739, 4.86],
  [250.2296643, 64.58908555, 4.84], [250.3228213, 31.60188695, 2.81], [250.3933179, -17.74216462, 4.91], [250.7239107, 38.92246103, 3.48],
  [250.7725818, -77.51657182, 4.23], [251.3241238, 56.78168723, 4.84], [251.4923396, 82.03725071, 4.21], [252.1661074, -69.02763503, 1.91],
  [252.3091638, 45.9834478, 4.82], [252.4462976, -59.04131648, 3.77], [252.4582214, -10.78280069, 4.64], [252.5426874, -34.29260982, 2.29],
  [252.967662, -38.04732717, 3.00], [253.083973, -38.01747781, 3.56], [253.4988637, -42.36201968, 4.70], [253.5020974, 10.16544339, 4.39],
  [253.6462716, -42.36075916, 3.62], [254.0056648, 65.13467204, 4.88], [254.4177942, 9.37505626, 3.19], [254.6551282, -55.99005508, 3.12],
  [254.8960277, -53.16049005, 4.06], [255.0725258, 30.92633926, 3.92], [255.2651063, -4.22245426, 4.82], [255.7827333, 14.0921003, 4.97],
  [256.2056295, -34.12292247, 4.83], [256.3340928, 54.46986308, 4.91], [256.3444175, 12.74085469, 4.89], [257.1967711, 65.71463676, 3.17],
  [257.5944266, -15.72514757, 2.43], [258.038233, -43.23849039, 3.32], [258.6619269, 14.39025314, 2.78], [258.7580174, 24.83958739, 3.12],
  [258.7618928, 36.80915527, 3.16], [258.838697, -26.60004896, 4.33], [259.15294, -0.44514192, 4.72], [259.3315437, 33.10011419, 4.80],
  [259.4178578, 37.29134328, 4.64], [260.2068148, -12.846882, 4.32], [260.2508762, -21.11243499, 4.39], [260.4980616, -67.7706496, 4.76],
  [260.5024337, -24.99948797, 3.27], [260.9207203, 37.14592396, 4.15], [261.3249883, -55.52982397, 2.84], [261.3485827, -56.37768824, 3.31],
  [261.5925724, -24.17502346, 4.16], [261.628665, 4.14034239, 4.34], [261.6580627, -5.08649188, 4.53], [261.8386001, -29.86669942, 4.28],
  [262.6082371, 52.30135901, 2.79], [262.6845751, 26.1106045, 4.41], [262.690995, -37.29574016, 2.70], [262.774904, -60.68360667, 3.60],
  [262.8539619, -23.96258036, 4.78], [262.9605066, -49.87598159, 2.84], [263.0434083, 55.18411077, 4.89], [263.0537383, 86.58632924, 4.35],
  [263.0661625, 55.17280674, 4.86], [263.4021937, -37.10374835, 1.62], [263.7333532, 12.56057584, 2.08], [263.9150472, -46.50559076, 4.56],
  [264.1368615, -38.63486521, 4.26], [264.2378747, 68.75718933, 4.77], [264.3296907, -42.99782155, 1.86], [264.3967718, -15.39840835, 3.54],
  [264.4613324, -8.11872126, 4.58], [264.8662185, 46.00632216, 3.82], [265.0988847, -49.41515481, 4.76], [265.3538188, -12.87517268, 4.24],
  [265.4846127, 72.14949916, 4.57], [265.6219991, -39.02992092, 2.39], [265.857729, -21.68308566, 4.86], [265.8682371, 4.56691684, 2.76],
  [266.4333435, -64.7237345, 3.61], [266.6154955, 27.72249917, 3.42], [266.8901128, -27.83076255, 4.53], [266.8961714, -40.12698197, 2.99],
  [266.9732252, 2.70745875, 3.75], [267.2936388, -31.70318435, 4.79], [267.4643802, -37.04337105, 3.19], [267.5462917, -40.09042823, 4.78],
  [268.3817896, 56.87245216, 3.73], [269.0632439, 37.25052158, 3.86], [269.1515744, 51.48895101, 2.24], [269.1976068, -44.34219871, 4.85],
  [269.4409611, 29.24792527, 3.70], [269.4491939, -41.71625842, 4.88], [269.6256239, 30.18926892, 4.41], [269.7566566, -9.77334973, 3.32],
  [269.9481531, -23.81601126, 4.74], [270.0142528, 16.75094481, 4.67], [270.0658232, 4.36864674, 4.79], [270.1205018, -3.69016112, 4.62],
  [270.1613147, 2.93158759, 3.93], [270.3766789, 21.59568814, 4.26], [270.4382897, 1.30510936, 4.42], [270.7704615, -8.18025785, 4.77],
  [271.2550938, -29.5800762, 4.66], [271.3633868, 2.50243928, 4.03], [271.4521859, -30.42365007, 2.98], [271.507953, 22.21889206, 4.96],
  [271.6578283, -50.09145462, 3.65], [271.7078522, -43.42496169, 4.92], [271.8264764, 8.73379361, 4.64], [271.8375861, 9.56365345, 3.71],
  [271.8856282, 28.76247025, 3.84], [272.0206792, -28.45701627, 4.55], [272.1449619, -63.66804844, 4.33], [272.1895526, 20.81457203, 4.37],
  [272.8074009, -45.95432704, 4.52], [272.9305333, -23.70116777, 4.96], [272.9756952, 31.4052884, 4.96], [273.4408696, -21.05883031, 3.84],
  [273.4723271, 64.39719935, 4.99], [274.4072049, -36.76128103, 3.10], [274.5132831, -27.04263452, 4.66], [274.965505, 36.06444696, 4.33],
  [275.0745983, 21.9614409, 4.92], [275.1893383, 71.33772734, 4.22], [275.2169255, 3.37714467, 4.85], [275.2484234, -29.82803914, 2.72],
  [275.2597457, 72.73369763, 3.55], [275.3288358, -2.897122, 3.23], [275.8067524, -61.49390506, 4.35], [275.9148076, -8.93451038, 4.66],
  [275.9240282, 21.77034249, 3.85], [275.9777039, 58.8005852, 4.98], [276.0431097, -34.3843146, 1.79], [276.3376481, -20.54160918, 4.81],
  [276.495783, 65.56354628, 4.82], [276.7434595, -45.96832919, 3.49], [276.9927896, -25.42124732, 2.82], [277.2072332, -49.07003097, 4.10],
  [277.299383, -14.56580499, 4.67], [277.8434439, -62.27819116, 4.63], [277.9393169, -45.9147436, 4.92], [278.1438429, 57.04561627, 4.77],
  [278.3756671, -42.31245871, 4.62], [278.8018244, -8.24330819, 3.85], [279.2341083, 38.78299311, 0.03], [280.5684255, -9.05255357, 4.70],
  [280.758891, -71.42772867, 4.01], [280.8801675, -8.27524299, 4.88], [281.0806646, -35.64192109, 4.86], [281.0847388, 39.66997686, 4.67],
  [281.0948994, 39.61259557, 4.59], [281.1930661, 37.60505025, 4.34], [281.3619008, -64.87089771, 4.78], [281.4139708, -26.9907794, 3.17],
  [281.4155466, 20.54712356, 4.19], [281.5186171, 26.66207055, 4.83], [281.7550932, 18.18122968, 4.34], [281.7936556, -4.74782871, 4.22],
  [282.5199746, 33.36267788, 3.52], [282.8000276, 59.38828895, 4.63], [283.0543189, -62.18756062, 4.22], [283.3064222, 50.70828894, 4.92],
  [283.542397, -22.7448202, 4.86], [283.5990262, 71.29708956, 4.82], [283.6262029, 36.89860518, 4.22], [283.6870048, 22.64507357, 4.57],
  [283.8163196, -26.29659428, 2.05], [283.8336882, 43.9458926, 4.08], [284.0548348, 4.20352956, 4.62], [284.060887, 4.20205672, 4.98],
  [284.2376694, -67.23353511, 4.40], [284.2651422, -5.84621426, 4.83], [284.4324156, -21.10662433, 3.52], [284.6156468, -52.93860748, 4.85],
  [284.6811415, -37.10708855, 4.83], [284.7359357, 32.68955312, 3.25], [284.9057884, 15.06847757, 4.02], [285.0034226, 32.14549051, 4.94],
  [285.4201724, -5.73901832, 4.02], [285.6530143, -29.88011429, 2.60], [285.7784692, -42.09499443, 4.74], [286.1705577, -21.74135451, 3.76],
  [286.3525518, 13.86370983, 2.99], [286.5622914, -4.88233456, 3.43], [286.6043316, -37.06275714, 4.23], [286.7351763, -27.66981416, 3.32],
  [287.0872208, -40.4966376, 4.57], [287.3678264, -37.90423953, 4.11], [287.440974, -21.02352534, 2.88], [287.5073019, -39.34070677, 4.10],
  [288.1381458, 67.66131695, 3.07], [288.4395365, 39.14596968, 4.43], [288.8849882, -25.25660677, 4.86], [288.8887238, 73.35521457, 4.45],
  [289.0543316, 21.39044277, 4.76], [289.0920643, 38.13372778, 4.35], [289.2754579, 53.36816064, 3.80], [289.4086899, -18.95288215, 4.88],
  [290.1368259, -5.41587489, 4.98], [290.1669666, 65.7144303, 4.60], [290.4182304, -17.84725155, 3.92], [290.4317584, -15.95500233, 4.52],
  [290.6595272, -44.45891013, 3.96], [290.8044192, -44.79964788, 4.27], [290.9714641, -40.61564629, 3.96], [291.031549, 29.6213112, 4.99],
  [291.3739694, 3.11457923, 3.36], [291.6295403, 0.33857566, 4.64], [292.1767126, 24.66516482, 4.44], [292.4264139, 51.72946747, 3.76],
  [292.6803553, 27.9596948, 3.05], [292.9430044, 34.45297707, 4.74], [293.0857769, 69.66540172, 4.67], [293.5217823, 7.37931918, 4.45],
  [293.8041407, -48.09911061, 4.88], [294.1105934, 50.22046347, 4.49], [294.1766211, -24.88356664, 4.59], [294.1803189, -1.28655047, 4.36],
  [294.2227024, -7.02747069, 4.93], [294.8441846, 30.1532335, 4.68], [295.0240939, 18.01393839, 4.39], [295.2622238, 17.47612356, 4.39],
  [296.0689651, 37.35426967, 4.89], [296.2435088, 45.13069195, 2.86], [296.5648757, 10.61326869, 2.72], [296.5909135, -19.76089482, 4.87],
  [296.8469384, 18.53425912, 3.68], [297.0425566, 70.26783533, 3.84], [297.6945086, 8.86738491, 0.76], [297.7670568, 22.61008676, 4.90],
  [298.1181826, 1.00567827, 3.87], [298.3653368, 24.07952568, 4.57], [298.5617574, 8.46165027, 4.71], [298.8153295, -41.8684135, 4.12],
  [298.8281923, 6.40793334, 3.71], [298.9075928, 52.43902327, 4.91], [298.959271, -26.29968718, 4.70], [298.9656717, 38.48670392, 4.95],
  [298.9807846, 58.84601982, 4.98], [299.0766507, 35.08349079, 3.89], [299.2367704, -27.1698625, 4.54], [299.6891152, 19.49209287, 3.51],
  [299.7382347, -26.19582739, 4.84], [299.9340597, -35.27624433, 4.37], [300.1474723, -72.91018443, 3.97], [300.2750422, 27.75356392, 4.66],
  [300.4363427, -59.37582804, 4.95], [300.6644137, -27.70987972, 4.43], [300.7043634, 67.87344872, 4.51], [300.8892141, -37.94049103, 4.77],
  [301.0815124, -32.05626941, 4.99], [301.8465358, -52.88080972, 4.93], [302.1744171, -66.17932101, 3.55], [302.2221517, 77.71136178, 4.38],
  [302.3567364, 36.83959003, 4.93], [302.8261033, -0.82147569, 3.24], [303.325175, 46.81567038, 4.80], [303.3491714, 56.56752223, 4.28],
  [303.4079278, 46.74132417, 3.80], [303.5691067, 15.19746767, 4.94], [303.6332603, 36.8061354, 4.93], [303.8162123, 25.59196924, 4.79],
  [303.8679927, 47.7142053, 3.96], [303.9423226, 27.8142285, 4.50], [304.4119005, -12.50821403, 4.30], [304.4466852, 38.0329471, 4.77],
  [304.5134103, -12.54485877, 3.58], [305.1658615, -12.75904403, 4.77], [305.2526935, -14.78140119, 3.05], [305.5570835, 40.2566815, 2.23],
  [305.9649834, 32.19018607, 4.43], [306.4118735, -56.73488071, 1.94], [307.2150986, -17.81366828, 4.77], [307.348879, 30.36855661, 4.01],
  [307.3951138, 62.99413722, 4.21], [307.4123278, -2.8854763, 4.91], [307.5147157, 48.95155039, 4.94], [308.3031866, 11.30333217, 4.03],
  [308.4757843, 35.25086482, 4.61], [308.8271174, 14.67418482, 4.64], [308.8948674, -60.58129819, 4.75], [309.1817794, -2.54991814, 4.91],
  [309.3869573, 14.59520289, 3.64], [309.3916237, -47.29166239, 3.11], [309.3968323, -61.52974415, 4.86], [309.5844729, -1.10507951, 4.31],
  [309.6303848, 21.20117964, 4.81], [309.909394, 15.9120527, 3.77], [310.3579727, 45.28033423, 1.25], [310.8647738, 15.07468224, 4.43],
  [311.0091112, -51.92084051, 4.51], [311.2188468, 25.27104823, 4.92], [311.2398153, -66.20323826, 3.42], [311.3219526, 61.83679404, 3.41],
  [311.3383193, 57.58029799, 4.52], [311.415663, 30.7196568, 4.22], [311.5240255, -25.27051682, 4.13], [311.5518009, 33.96945334, 2.48],
  [311.6646583, 16.12477326, 4.27], [311.794685, 34.37410329, 4.93], [311.8521956, 36.49073658, 4.53], [311.9188857, -9.49568988, 3.78],
  [311.9343246, -5.02760303, 4.43], [312.2345558, 46.11414081, 4.81], [312.3705384, -46.22689249, 4.90], [312.4919979, -33.7796732, 4.89],
  [312.9554008, -26.91912642, 4.12], [313.0321898, 27.09712771, 4.56], [313.1633575, -8.98323782, 4.73], [313.3114387, 44.38726652, 4.80],
  [313.7024151, -58.4540947, 3.67], [314.2933818, 41.16719384, 3.94], [314.9564595, 47.52094507, 4.74], [315.322757, -32.25776681, 4.67],
  [316.1013526, -19.85493122, 4.82], [316.2327325, 43.92785122, 3.72], [316.4865808, -17.23271095, 4.08], [316.6503672, 47.64840597, 4.56],
  [316.7820227, -25.00574796, 4.49], [317.3983034, -11.37165474, 4.50], [317.5852962, 10.13194861, 4.70], [318.2340898, 30.22708128, 3.21],
  [318.6199588, 10.00771855, 4.47], [318.6972776, 38.04432043, 3.74], [318.9558198, 5.2480739, 3.92], [319.3539689, 39.39469016, 4.22],
  [319.4794496, 34.8968812, 4.41], [319.4843606, -32.17248551, 4.71], [319.6440898, 62.58545529, 2.45], [319.9661825, -53.44926434, 4.39],
  [320.1899315, -40.80950852, 4.80], [320.5213912, 19.80435581, 4.08], [320.5615726, -16.83455521, 4.28], [321.6103839, -65.36814438, 4.21],
  [321.6667821, -22.41137838, 3.77], [322.164896, 70.56069481, 3.23], [322.1804835, -21.80716659, 4.50], [322.4869986, 23.63882922, 4.52],
  [322.8896695, -5.57115593, 2.90], [323.4953036, 45.59206564, 3.98], [323.6936559, 38.53382684, 4.87], [324.2700949, -19.46601352, 4.51],
  [324.4376752, -7.85414212, 4.68], [324.4801117, 62.08194667, 4.76], [325.0222594, -16.66225343, 3.69], [325.368638, -77.38946215, 3.73],
  [325.4794837, 71.31118695, 4.55], [325.523582, 51.1896271, 4.69], [325.6642385, -18.86630105, 4.72], [325.8768956, 58.78005308, 4.23],
  [326.0350187, 28.74322228, 4.49], [326.0464181, 9.87500791, 2.38], [326.1278772, 17.35004352, 4.34], [326.1612676, 25.64500284, 4.14],
  [326.2366159, -33.02555306, 4.35], [326.3622053, 61.12081043, 4.25], [326.6983579, 49.3095748, 4.23], [326.759522, -16.12656595, 2.85],
  [328.481892, -37.3648229, 3.00], [329.4792958, -54.9925666, 4.40], [330.822665, -56.77980602, 4.69], [330.8284569, -2.15533588, 4.74],
  [330.9465078, 64.62775425, 4.26], [331.4195499, 5.05828453, 4.86], [331.4459387, -0.31982656, 2.95], [331.5287652, -39.54304903, 4.47],
  [331.6091889, -13.86954013, 4.29], [331.7519773, 25.3450461, 3.77], [332.0578184, -46.96061593, 1.73], [332.0956383, -32.98839827, 4.50],
  [332.1080337, -34.04372111, 4.99], [332.4515291, 72.34119936, 4.79], [332.496886, 33.17826747, 4.28], [332.535348, -32.54844042, 4.94],
  [332.549249, 6.197789, 3.52], [332.7135913, 58.20124992, 3.39], [333.4695894, 39.71488928, 4.50], [333.7569958, 57.04346522, 4.18],
  [333.9036867, -41.34675029, 4.79], [333.9923757, 37.74873483, 4.14], [334.2081933, -7.78323706, 4.17], [334.6257426, -60.25949486, 2.87],
  [335.2563679, 46.53656484, 4.55], [335.3305317, 28.33051592, 4.78], [335.3794638, 12.20517262, 4.82], [335.4137498, -1.38735315, 3.86],
  [335.8901517, 52.22949951, 4.42], [336.1291488, 49.47640074, 4.55], [336.3192186, 1.37739245, 4.80], [336.8328045, -64.96637927, 4.51],
  [336.9644877, 4.6964107, 4.78], [337.2075023, -0.02006304, 3.65], [337.2926998, 58.4151899, 4.07], [337.3173087, -43.49555433, 3.97],
  [337.3825947, 47.70689488, 4.34], [337.4393561, -43.74922804, 4.12], [337.6219233, 43.12338985, 4.52], [337.6617292, -10.67788619, 4.82],
  [337.822399, 50.28244976, 3.76], [337.8762065, -32.34602798, 4.29], [338.2500526, -61.982073, 4.91], [338.8388705, -0.11736123, 4.04],
  [339.3436075, 51.54537399, 4.64], [339.8153288, 39.05028301, 4.89], [340.1282598, 44.27628068, 4.50], [340.1638565, -27.0436148, 4.18],
  [340.3653118, 10.83139111, 3.41], [340.4392072, 29.3076892, 4.80], [340.6663953, -46.88456594, 2.07], [340.7505357, 30.22130866, 2.93],
  [340.8748696, -41.41411843, 4.84], [340.8968856, -18.83030716, 4.68], [341.4077169, -53.50016316, 4.84], [341.5155139, -81.38161731, 4.13],
  [341.6326766, 23.56567939, 3.97], [341.672673, 12.17408381, 4.20], [341.8706143, 83.15371558, 4.77], [342.1383214, -51.31670354, 3.49],
  [342.3979576, -13.59253756, 4.05], [342.4204674, 66.20071089, 3.50], [342.5004181, 24.60168486, 3.51], [343.0081137, 43.31236494, 4.95],
  [343.1314913, -32.87545019, 4.46], [343.1536019, -7.57967878, 3.73], [343.6016014, 84.34611856, 4.70], [343.6626635, -15.82075994, 3.27],
  [343.8067681, 8.81609536, 4.91], [343.9870501, -32.53970196, 4.20], [344.1083278, 49.73355094, 4.99], [344.4117732, -29.62183701, 1.17],
  [345.2203098, -52.75410562, 4.11], [345.4801938, 42.32597866, 3.62], [345.9430558, 28.08245462, 2.44], [345.9691938, 3.82006998, 4.48],
  [346.0451323, 50.05168397, 4.64], [346.1900702, 15.20536786, 2.49], [346.6533743, 59.41976474, 4.84], [346.6700303, -23.7431168, 4.48],
  [346.7198686, -43.52032436, 4.28], [346.751066, 9.40952259, 4.54], [346.77808, 25.46833959, 4.76], [346.9743255, 75.3875815, 4.41],
  [347.3615088, -21.17248555, 3.68], [347.4786538, -22.45759248, 4.71], [347.5892831, -45.24664747, 3.88], [348.1371788, 49.40597489, 4.53],
  [348.5805522, -6.0485268, 4.22], [348.9719873, -9.08769554, 4.24], [349.2122937, -7.72646619, 4.93], [349.2895568, 3.28224524, 3.70],
  [349.3575502, -58.23592762, 3.99], [349.4359013, 49.01528336, 4.82], [349.4758484, -9.1824899, 4.41], [349.6558621, 68.11141807, 4.75],
  [349.705945, -32.53183574, 4.41], [349.7402122, -9.610731, 4.99], [350.1592632, 23.7403592, 4.58], [350.7429228, -20.10034505, 3.96],
  [351.2093627, 62.28283877, 4.96], [351.3444225, 23.40401243, 4.42], [351.511739, -20.64186122, 4.38], [351.7329388, 1.25583758, 4.95],
  [351.9923659, 6.37909727, 4.27], [352.2885846, 12.76049243, 4.54], [352.5079978, 58.54890978, 4.89], [353.2424506, -37.81835895, 4.38],
  [353.3192713, -20.91452506, 4.70], [353.4881388, 31.32532196, 4.97], [353.7688774, -42.61510105, 4.69], [354.3904487, 46.45917621, 3.81],
  [354.4622305, -45.49232134, 4.74], [354.5340797, 43.2680761, 4.29], [354.8374252, 77.63196681, 3.21], [354.9459868, -14.22204281, 4.97],
  [354.9867513, 5.62735374, 4.13], [355.1018409, 44.33397776, 4.15], [355.4408226, -17.81653327, 4.82], [355.5120074, 1.7804172, 4.49],
  [355.6803536, -14.54474243, 4.49], [355.9976585, 29.36155278, 4.93], [356.5084956, 46.42029095, 4.97], [356.5980705, 3.48687164, 4.95],
  [356.7641112, 58.65185164, 4.88], [357.2311663, -28.1300148, 4.59], [358.5959889, 57.49939052, 4.51], [359.43979, 25.14147936, 4.63],
  [359.6683774, -3.55580738, 4.88], [359.7522073, 55.75494069, 4.88], [359.8275099, 6.86359373, 4.03], [359.978792, -65.57707774, 4.49],
];

////////////////////////////////////////////////////////////////////////////////////////////////////
// 惑星の画像データ
////////////////////////////////////////////////////////////////////////////////////////////////////

// 火星
// https://commons.wikimedia.org/wiki/File:Mars_transparent.png
const mars_png_base64 =
  "iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJN" +
  "AAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAC/VBMVEUAAAAVIisMFBgsQDc/" +
  "UkQQJxwcHxwVHB8+Tj9RXEoUFhM/UUFUd5R9h25mjbBmjK6Gi3GXmHs1W3h0l7hpj7R9hGuTknNP" +
  "ZVQAAAAOEAshKSYuNjE+SEhOX2lPY3NCW2wqR1QAAAAEDRUgMDk2RUlha11BTj4iOTAJCQUrNj1T" +
  "WEQwRjomKydlY0oQQTwdIRo/QjqJdFNXY080OThja1VJRkRga1ZYUlBqdFxWVFN2fGVLUlODiXVF" +
  "VFqIiW9CVV9WY2WWjGZ7fV4pQE5UbHiJi25Wb15XhK5kfZCQjW54hnJeh655k66MnK6MgmOMiWp0" +
  "gGpfi8yOr96ZsdGdqrujqrGnrbCkqqucoJaKinZWalpVZWpyfYGTlpuWmJyLjIl9gntEW2xedoZ5" +
  "i5eKlJiZjHyriGWthVuthFelf1R5akxKTktgY11sa15/dWKbfV2xgFPGiFLDh1LNjVXUk1e5hlWR" +
  "dE9gX1JvaFV9bVarfFXJgk3ViU7ll1Ttn1jvo1vso1zbllm9h1ViX1d3bVt+cFqVeV7HhVfZjFLp" +
  "mFX6qFv8rF37rF73ql7so13BjVlza1B/bF6efWK1h2PBil/QjFjgk1bvnlf9rVz+sV7+sV/8r1/3" +
  "rWHTmV1qaE+NcFyof2C8h16rgFvKjFrclFrnmFb0pVv+sl/+sWD9smH7sWLgoWCCeFeBbFqTd12b" +
  "eVugfVvCjF22hlm4g1XinVr8sWH7sWH+tGPQmV6AdVZnYVV7bVp5alWLc1englx/bVF7Z0ulfFHA" +
  "jVe/jVjcn17npWC7kF2IfFtcYFpvaFd0alV7bVaWelmUd1OZeFKifFOogFWhfVWlglnAk1+tjF+Z" +
  "imVnaVx3cFuBc1qNd1mjf1i4iFnEkFvKlF3AkV6nhVuYgFudiGFfa2htbFt6clyEdFqQd1eaelWc" +
  "e1WjgFeYe1eJdlaSgF2cjml3fXd+dWCGclSMc1OIcFGFbk+LcVGIclOJelqej2mUmJuPh3uHe2aH" +
  "eWCGeF6FeV////+TnuwoAAAAW3RSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAER6bj+/zkqUsG" +
  "FpDu8JUZFq+1GpCXBkfu8U6mr+Pq+/78/uTrqbJL8PJSBpWcCBm1uh0al/HynB0GTq/q/v7rslII" +
  "ngPTYwAAAAFiS0dE/tIAwlMAAAAJcEhZcwAAD2EAAA9hAag/p2kAAAAHdElNRQfmDBQHBivp6ze1" +
  "AAAAAW9yTlQBz6J3mgAAARtJREFUGNMBEAHv/gAAAQIYGRobHB0eHyAhAwQFAAYHIiMkW1xdXl9g" +
  "JSYnCAkACigpYWJjZGVmZ2hpaiorCwAYLGtsbW5vcHFyc3R1di0uAC8wd3h5ent8fX5/gIGCMTIA" +
  "M4OEhYaHiImKi4yNjo+QNAA1kZKTlJWWl5iZmpucnZ42ADefoKGio6SlpqeoqaqrrDgAOa2ur7Cx" +
  "srO0tba3nLi5OgA7uru8vb6/wMHCw8TFxsc8AD3IycrLzM3Oz9DR0tPU1T4AP0DW19jZ2tvc3d7f" +
  "4OFBQgBDROLj5OXm5+jp6uvs7UVGAAxHSO7v8PHy8/T19vdJSg0ADg9LTE34+fr7/P1OT1AQEQAS" +
  "ExRRUlNUVVZXWFlaFRYXrAZ+OAu2s0IAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMTItMjBUMDc6" +
  "MDY6MzArMDA6MDAZwXP+AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTEyLTIwVDA3OjA2OjMwKzAw" +
  "OjAwaJzLQgAAAABJRU5ErkJggg==";

// 木星
// https://commons.wikimedia.org/wiki/File:3D_Jupiter.png
const jupiter_png_base64 =
  "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" +
  "MTk6NDArMDA6MDAygPNdAAAAAElFTkSuQmCC";

// 土星
// https://commons.wikimedia.org/wiki/File:3D_Saturn.png
const saturn_png_base64 =
  "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";

////////////////////////////////////////////////////////////////////////////////////////////////////
// 7セグメントのフォントデータ
////////////////////////////////////////////////////////////////////////////////////////////////////

function addDsegFontStyle() {
  const fontStyle = document.createElement("style");
  document.head.appendChild(fontStyle);
  fontStyle.sheet.insertRule(
    "@font-face {" +
    "font-family: \"dseg\";" +
    "src: url(\"data:application/font-woff; charset=utf-8; base64," + dseg_base64 + "\") format(\"woff\");}", 0);
}

// Font "DSEG" by けしかん
// https://www.keshikan.net/fonts.html
// https://github.com/keshikan/DSEG/blob/master/DSEG-LICENSE.txt
// DSEG7 Classic Bold Italic
const dseg_base64 =
  "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";

////////////////////////////////////////////////////////////////////////////////////////////////////

return initializeClock;
})();
window.addEventListener("load", (event) => {
  initializeClock("clock");
});
</script>
</body>
</html>
